[2024-03-21T20:22:30.233Z][QUERY]: SELECT * FROM current_schema()
[2024-03-21T20:22:30.250Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-21T20:22:30.252Z][QUERY]: SELECT version();
[2024-03-21T20:22:30.254Z][QUERY]: START TRANSACTION
[2024-03-21T20:22:30.256Z][QUERY]: SELECT * FROM current_schema()
[2024-03-21T20:22:30.256Z][QUERY]: SELECT * FROM current_database()
[2024-03-21T20:22:30.257Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-21T20:22:30.272Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-21T20:22:30.282Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-21T20:22:30.283Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-21T20:22:30.283Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-21T20:22:30.283Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-21T20:22:30.340Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-21T20:22:30.343Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-21T20:22:30.345Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-21T20:22:30.356Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-21T20:22:30.359Z][QUERY]: ALTER TABLE "addresses" DROP CONSTRAINT "FK_f8656e6a09130d913e77c797a74"
[2024-03-21T20:22:30.366Z][QUERY]: CREATE TABLE "states" ("iso_alpha_code2" character varying(2) NOT NULL, "name" character varying(100) NOT NULL, CONSTRAINT "PK_6c519a20f7bfbc1a2fc97582cf6" PRIMARY KEY ("iso_alpha_code2"))
[2024-03-21T20:22:30.376Z][QUERY]: ALTER TABLE "bar_outlets" ADD "phone_number" character varying(12) NOT NULL
[2024-03-21T20:22:30.378Z][FAILED QUERY]: ALTER TABLE "bar_outlets" ADD "phone_number" character varying(12) NOT NULL
[2024-03-21T20:22:30.378Z][QUERY ERROR]: error: column "phone_number" of relation "bar_outlets" contains null values
[2024-03-21T20:22:30.414Z][QUERY]: ROLLBACK
[2024-03-21T20:22:33.429Z][QUERY]: SELECT * FROM current_schema()
[2024-03-21T20:22:33.432Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-21T20:22:33.433Z][QUERY]: SELECT version();
[2024-03-21T20:22:33.434Z][QUERY]: START TRANSACTION
[2024-03-21T20:22:33.434Z][QUERY]: SELECT * FROM current_schema()
[2024-03-21T20:22:33.435Z][QUERY]: SELECT * FROM current_database()
[2024-03-21T20:22:33.435Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-21T20:22:33.441Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-21T20:22:33.449Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-21T20:22:33.449Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-21T20:22:33.449Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-21T20:22:33.449Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-21T20:22:33.476Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-21T20:22:33.478Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-21T20:22:33.479Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-21T20:22:33.490Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-21T20:22:33.491Z][QUERY]: ALTER TABLE "addresses" DROP CONSTRAINT "FK_f8656e6a09130d913e77c797a74"
[2024-03-21T20:22:33.494Z][QUERY]: CREATE TABLE "states" ("iso_alpha_code2" character varying(2) NOT NULL, "name" character varying(100) NOT NULL, CONSTRAINT "PK_6c519a20f7bfbc1a2fc97582cf6" PRIMARY KEY ("iso_alpha_code2"))
[2024-03-21T20:22:33.499Z][QUERY]: ALTER TABLE "bar_outlets" ADD "phone_number" character varying(12) NOT NULL
[2024-03-21T20:22:33.500Z][FAILED QUERY]: ALTER TABLE "bar_outlets" ADD "phone_number" character varying(12) NOT NULL
[2024-03-21T20:22:33.500Z][QUERY ERROR]: error: column "phone_number" of relation "bar_outlets" contains null values
[2024-03-21T20:22:33.501Z][QUERY]: ROLLBACK
[2024-03-21T20:22:36.513Z][QUERY]: SELECT * FROM current_schema()
[2024-03-21T20:22:36.516Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-21T20:22:36.517Z][QUERY]: SELECT version();
[2024-03-21T20:22:36.517Z][QUERY]: START TRANSACTION
[2024-03-21T20:22:36.518Z][QUERY]: SELECT * FROM current_schema()
[2024-03-21T20:22:36.518Z][QUERY]: SELECT * FROM current_database()
[2024-03-21T20:22:36.519Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-21T20:22:36.526Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-21T20:22:36.533Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-21T20:22:36.533Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-21T20:22:36.533Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-21T20:22:36.533Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-21T20:22:36.561Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-21T20:22:36.564Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-21T20:22:36.566Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-21T20:22:36.576Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-21T20:22:36.578Z][QUERY]: ALTER TABLE "addresses" DROP CONSTRAINT "FK_f8656e6a09130d913e77c797a74"
[2024-03-21T20:22:36.580Z][QUERY]: CREATE TABLE "states" ("iso_alpha_code2" character varying(2) NOT NULL, "name" character varying(100) NOT NULL, CONSTRAINT "PK_6c519a20f7bfbc1a2fc97582cf6" PRIMARY KEY ("iso_alpha_code2"))
[2024-03-21T20:22:36.584Z][QUERY]: ALTER TABLE "bar_outlets" ADD "phone_number" character varying(12) NOT NULL
[2024-03-21T20:22:36.585Z][FAILED QUERY]: ALTER TABLE "bar_outlets" ADD "phone_number" character varying(12) NOT NULL
[2024-03-21T20:22:36.585Z][QUERY ERROR]: error: column "phone_number" of relation "bar_outlets" contains null values
[2024-03-21T20:22:36.586Z][QUERY]: ROLLBACK
[2024-03-21T20:22:39.597Z][QUERY]: SELECT * FROM current_schema()
[2024-03-21T20:22:39.602Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-21T20:22:39.603Z][QUERY]: SELECT version();
[2024-03-21T20:22:39.605Z][QUERY]: START TRANSACTION
[2024-03-21T20:22:39.606Z][QUERY]: SELECT * FROM current_schema()
[2024-03-21T20:22:39.606Z][QUERY]: SELECT * FROM current_database()
[2024-03-21T20:22:39.607Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-21T20:22:39.612Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-21T20:22:39.619Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-21T20:22:39.620Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-21T20:22:39.620Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-21T20:22:39.620Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-21T20:22:39.653Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-21T20:22:39.657Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-21T20:22:39.658Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-21T20:22:39.670Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-21T20:22:39.672Z][QUERY]: ALTER TABLE "addresses" DROP CONSTRAINT "FK_f8656e6a09130d913e77c797a74"
[2024-03-21T20:22:39.676Z][QUERY]: CREATE TABLE "states" ("iso_alpha_code2" character varying(2) NOT NULL, "name" character varying(100) NOT NULL, CONSTRAINT "PK_6c519a20f7bfbc1a2fc97582cf6" PRIMARY KEY ("iso_alpha_code2"))
[2024-03-21T20:22:39.684Z][QUERY]: ALTER TABLE "bar_outlets" ADD "phone_number" character varying(12) NOT NULL
[2024-03-21T20:22:39.685Z][FAILED QUERY]: ALTER TABLE "bar_outlets" ADD "phone_number" character varying(12) NOT NULL
[2024-03-21T20:22:39.685Z][QUERY ERROR]: error: column "phone_number" of relation "bar_outlets" contains null values
[2024-03-21T20:22:39.686Z][QUERY]: ROLLBACK
[2024-03-21T20:22:42.698Z][QUERY]: SELECT * FROM current_schema()
[2024-03-21T20:22:42.700Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-21T20:22:42.701Z][QUERY]: SELECT version();
[2024-03-21T20:22:42.702Z][QUERY]: START TRANSACTION
[2024-03-21T20:22:42.702Z][QUERY]: SELECT * FROM current_schema()
[2024-03-21T20:22:42.703Z][QUERY]: SELECT * FROM current_database()
[2024-03-21T20:22:42.703Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-21T20:22:42.710Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-21T20:22:42.716Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-21T20:22:42.717Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-21T20:22:42.717Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-21T20:22:42.717Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-21T20:22:42.745Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-21T20:22:42.748Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-21T20:22:42.749Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-21T20:22:42.760Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-21T20:22:42.762Z][QUERY]: ALTER TABLE "addresses" DROP CONSTRAINT "FK_f8656e6a09130d913e77c797a74"
[2024-03-21T20:22:42.764Z][QUERY]: CREATE TABLE "states" ("iso_alpha_code2" character varying(2) NOT NULL, "name" character varying(100) NOT NULL, CONSTRAINT "PK_6c519a20f7bfbc1a2fc97582cf6" PRIMARY KEY ("iso_alpha_code2"))
[2024-03-21T20:22:42.769Z][QUERY]: ALTER TABLE "bar_outlets" ADD "phone_number" character varying(12) NOT NULL
[2024-03-21T20:22:42.770Z][FAILED QUERY]: ALTER TABLE "bar_outlets" ADD "phone_number" character varying(12) NOT NULL
[2024-03-21T20:22:42.770Z][QUERY ERROR]: error: column "phone_number" of relation "bar_outlets" contains null values
[2024-03-21T20:22:42.771Z][QUERY]: ROLLBACK
[2024-03-21T20:22:45.784Z][QUERY]: SELECT * FROM current_schema()
[2024-03-21T20:22:45.786Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-21T20:22:45.788Z][QUERY]: SELECT version();
[2024-03-21T20:22:45.788Z][QUERY]: START TRANSACTION
[2024-03-21T20:22:45.789Z][QUERY]: SELECT * FROM current_schema()
[2024-03-21T20:22:45.789Z][QUERY]: SELECT * FROM current_database()
[2024-03-21T20:22:45.790Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-21T20:22:45.795Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-21T20:22:45.803Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-21T20:22:45.804Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-21T20:22:45.804Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-21T20:22:45.804Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-21T20:22:45.833Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-21T20:22:45.836Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-21T20:22:45.838Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-21T20:22:45.851Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-21T20:22:45.853Z][QUERY]: ALTER TABLE "addresses" DROP CONSTRAINT "FK_f8656e6a09130d913e77c797a74"
[2024-03-21T20:22:45.857Z][QUERY]: CREATE TABLE "states" ("iso_alpha_code2" character varying(2) NOT NULL, "name" character varying(100) NOT NULL, CONSTRAINT "PK_6c519a20f7bfbc1a2fc97582cf6" PRIMARY KEY ("iso_alpha_code2"))
[2024-03-21T20:22:45.865Z][QUERY]: ALTER TABLE "bar_outlets" ADD "phone_number" character varying(12) NOT NULL
[2024-03-21T20:22:45.867Z][FAILED QUERY]: ALTER TABLE "bar_outlets" ADD "phone_number" character varying(12) NOT NULL
[2024-03-21T20:22:45.867Z][QUERY ERROR]: error: column "phone_number" of relation "bar_outlets" contains null values
[2024-03-21T20:22:45.867Z][QUERY]: ROLLBACK
[2024-03-21T20:22:51.518Z][QUERY]: SELECT * FROM current_schema()
[2024-03-21T20:22:51.533Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-21T20:22:51.534Z][QUERY]: SELECT version();
[2024-03-21T20:22:51.536Z][QUERY]: START TRANSACTION
[2024-03-21T20:22:51.537Z][QUERY]: SELECT * FROM current_schema()
[2024-03-21T20:22:51.538Z][QUERY]: SELECT * FROM current_database()
[2024-03-21T20:22:51.539Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-21T20:22:51.545Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-21T20:22:51.552Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-21T20:22:51.552Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-21T20:22:51.552Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-21T20:22:51.553Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-21T20:22:51.583Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-21T20:22:51.586Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-21T20:22:51.587Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-21T20:22:51.599Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-21T20:22:51.601Z][QUERY]: ALTER TABLE "addresses" DROP CONSTRAINT "FK_f8656e6a09130d913e77c797a74"
[2024-03-21T20:22:51.606Z][QUERY]: CREATE TABLE "states" ("iso_alpha_code2" character varying(2) NOT NULL, "name" character varying(100) NOT NULL, CONSTRAINT "PK_6c519a20f7bfbc1a2fc97582cf6" PRIMARY KEY ("iso_alpha_code2"))
[2024-03-21T20:22:51.612Z][QUERY]: ALTER TABLE "bar_outlets" ADD "phone_number" character varying(12)
[2024-03-21T20:22:51.614Z][QUERY]: ALTER TABLE "addresses" ADD CONSTRAINT "UQ_a1c0225b2006b0cfdce29bf7d03" UNIQUE ("street")
[2024-03-21T20:22:51.618Z][QUERY]: ALTER TABLE "bar_outlets" DROP COLUMN "picture_url"
[2024-03-21T20:22:51.620Z][QUERY]: ALTER TABLE "bar_outlets" ADD "picture_url" text
[2024-03-21T20:22:51.621Z][QUERY]: ALTER TABLE "bars" DROP COLUMN "logo_url"
[2024-03-21T20:22:51.622Z][QUERY]: ALTER TABLE "bars" ADD "logo_url" text
[2024-03-21T20:22:51.624Z][QUERY]: ALTER TABLE "addresses" ADD CONSTRAINT "FK_f8656e6a09130d913e77c797a74" FOREIGN KEY ("state_iso_alpha_code2") REFERENCES "states"("iso_alpha_code2") ON DELETE NO ACTION ON UPDATE NO ACTION
[2024-03-21T20:22:51.628Z][FAILED QUERY]: ALTER TABLE "addresses" ADD CONSTRAINT "FK_f8656e6a09130d913e77c797a74" FOREIGN KEY ("state_iso_alpha_code2") REFERENCES "states"("iso_alpha_code2") ON DELETE NO ACTION ON UPDATE NO ACTION
[2024-03-21T20:22:51.628Z][QUERY ERROR]: error: insert or update on table "addresses" violates foreign key constraint "FK_f8656e6a09130d913e77c797a74"
[2024-03-21T20:22:51.662Z][QUERY]: ROLLBACK
[2024-03-21T20:22:54.679Z][QUERY]: SELECT * FROM current_schema()
[2024-03-21T20:22:54.683Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-21T20:22:54.684Z][QUERY]: SELECT version();
[2024-03-21T20:22:54.684Z][QUERY]: START TRANSACTION
[2024-03-21T20:22:54.685Z][QUERY]: SELECT * FROM current_schema()
[2024-03-21T20:22:54.685Z][QUERY]: SELECT * FROM current_database()
[2024-03-21T20:22:54.686Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-21T20:22:54.691Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-21T20:22:54.697Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-21T20:22:54.698Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-21T20:22:54.698Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-21T20:22:54.698Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-21T20:22:54.726Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-21T20:22:54.729Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-21T20:22:54.730Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-21T20:22:54.741Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-21T20:22:54.743Z][QUERY]: ALTER TABLE "addresses" DROP CONSTRAINT "FK_f8656e6a09130d913e77c797a74"
[2024-03-21T20:22:54.746Z][QUERY]: CREATE TABLE "states" ("iso_alpha_code2" character varying(2) NOT NULL, "name" character varying(100) NOT NULL, CONSTRAINT "PK_6c519a20f7bfbc1a2fc97582cf6" PRIMARY KEY ("iso_alpha_code2"))
[2024-03-21T20:22:54.750Z][QUERY]: ALTER TABLE "bar_outlets" ADD "phone_number" character varying(12)
[2024-03-21T20:22:54.751Z][QUERY]: ALTER TABLE "addresses" ADD CONSTRAINT "UQ_a1c0225b2006b0cfdce29bf7d03" UNIQUE ("street")
[2024-03-21T20:22:54.755Z][QUERY]: ALTER TABLE "bar_outlets" DROP COLUMN "picture_url"
[2024-03-21T20:22:54.756Z][QUERY]: ALTER TABLE "bar_outlets" ADD "picture_url" text
[2024-03-21T20:22:54.757Z][QUERY]: ALTER TABLE "bars" DROP COLUMN "logo_url"
[2024-03-21T20:22:54.758Z][QUERY]: ALTER TABLE "bars" ADD "logo_url" text
[2024-03-21T20:22:54.759Z][QUERY]: ALTER TABLE "addresses" ADD CONSTRAINT "FK_f8656e6a09130d913e77c797a74" FOREIGN KEY ("state_iso_alpha_code2") REFERENCES "states"("iso_alpha_code2") ON DELETE NO ACTION ON UPDATE NO ACTION
[2024-03-21T20:22:54.762Z][FAILED QUERY]: ALTER TABLE "addresses" ADD CONSTRAINT "FK_f8656e6a09130d913e77c797a74" FOREIGN KEY ("state_iso_alpha_code2") REFERENCES "states"("iso_alpha_code2") ON DELETE NO ACTION ON UPDATE NO ACTION
[2024-03-21T20:22:54.762Z][QUERY ERROR]: error: insert or update on table "addresses" violates foreign key constraint "FK_f8656e6a09130d913e77c797a74"
[2024-03-21T20:22:54.762Z][QUERY]: ROLLBACK
[2024-03-21T20:22:57.774Z][QUERY]: SELECT * FROM current_schema()
[2024-03-21T20:22:57.777Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-21T20:22:57.778Z][QUERY]: SELECT version();
[2024-03-21T20:22:57.779Z][QUERY]: START TRANSACTION
[2024-03-21T20:22:57.779Z][QUERY]: SELECT * FROM current_schema()
[2024-03-21T20:22:57.780Z][QUERY]: SELECT * FROM current_database()
[2024-03-21T20:22:57.780Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-21T20:22:57.785Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-21T20:22:57.792Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-21T20:22:57.793Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-21T20:22:57.793Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-21T20:22:57.793Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-21T20:22:57.822Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-21T20:22:57.825Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-21T20:22:57.827Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-21T20:22:57.838Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-21T20:22:57.839Z][QUERY]: ALTER TABLE "addresses" DROP CONSTRAINT "FK_f8656e6a09130d913e77c797a74"
[2024-03-21T20:22:57.842Z][QUERY]: CREATE TABLE "states" ("iso_alpha_code2" character varying(2) NOT NULL, "name" character varying(100) NOT NULL, CONSTRAINT "PK_6c519a20f7bfbc1a2fc97582cf6" PRIMARY KEY ("iso_alpha_code2"))
[2024-03-21T20:22:57.849Z][QUERY]: ALTER TABLE "bar_outlets" ADD "phone_number" character varying(12)
[2024-03-21T20:22:57.851Z][QUERY]: ALTER TABLE "addresses" ADD CONSTRAINT "UQ_a1c0225b2006b0cfdce29bf7d03" UNIQUE ("street")
[2024-03-21T20:22:57.854Z][QUERY]: ALTER TABLE "bar_outlets" DROP COLUMN "picture_url"
[2024-03-21T20:22:57.855Z][QUERY]: ALTER TABLE "bar_outlets" ADD "picture_url" text
[2024-03-21T20:22:57.856Z][QUERY]: ALTER TABLE "bars" DROP COLUMN "logo_url"
[2024-03-21T20:22:57.857Z][QUERY]: ALTER TABLE "bars" ADD "logo_url" text
[2024-03-21T20:22:57.858Z][QUERY]: ALTER TABLE "addresses" ADD CONSTRAINT "FK_f8656e6a09130d913e77c797a74" FOREIGN KEY ("state_iso_alpha_code2") REFERENCES "states"("iso_alpha_code2") ON DELETE NO ACTION ON UPDATE NO ACTION
[2024-03-21T20:22:57.860Z][FAILED QUERY]: ALTER TABLE "addresses" ADD CONSTRAINT "FK_f8656e6a09130d913e77c797a74" FOREIGN KEY ("state_iso_alpha_code2") REFERENCES "states"("iso_alpha_code2") ON DELETE NO ACTION ON UPDATE NO ACTION
[2024-03-21T20:22:57.860Z][QUERY ERROR]: error: insert or update on table "addresses" violates foreign key constraint "FK_f8656e6a09130d913e77c797a74"
[2024-03-21T20:22:57.861Z][QUERY]: ROLLBACK
[2024-03-21T20:23:00.873Z][QUERY]: SELECT * FROM current_schema()
[2024-03-21T20:23:00.875Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-21T20:23:00.876Z][QUERY]: SELECT version();
[2024-03-21T20:23:00.876Z][QUERY]: START TRANSACTION
[2024-03-21T20:23:00.877Z][QUERY]: SELECT * FROM current_schema()
[2024-03-21T20:23:00.877Z][QUERY]: SELECT * FROM current_database()
[2024-03-21T20:23:00.878Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-21T20:23:00.885Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-21T20:23:00.892Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-21T20:23:00.892Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-21T20:23:00.892Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-21T20:23:00.892Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-21T20:23:00.919Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-21T20:23:00.921Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-21T20:23:00.922Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-21T20:23:00.935Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-21T20:23:00.936Z][QUERY]: ALTER TABLE "addresses" DROP CONSTRAINT "FK_f8656e6a09130d913e77c797a74"
[2024-03-21T20:23:00.939Z][QUERY]: CREATE TABLE "states" ("iso_alpha_code2" character varying(2) NOT NULL, "name" character varying(100) NOT NULL, CONSTRAINT "PK_6c519a20f7bfbc1a2fc97582cf6" PRIMARY KEY ("iso_alpha_code2"))
[2024-03-21T20:23:00.943Z][QUERY]: ALTER TABLE "bar_outlets" ADD "phone_number" character varying(12)
[2024-03-21T20:23:00.945Z][QUERY]: ALTER TABLE "addresses" ADD CONSTRAINT "UQ_a1c0225b2006b0cfdce29bf7d03" UNIQUE ("street")
[2024-03-21T20:23:00.949Z][QUERY]: ALTER TABLE "bar_outlets" DROP COLUMN "picture_url"
[2024-03-21T20:23:00.949Z][QUERY]: ALTER TABLE "bar_outlets" ADD "picture_url" text
[2024-03-21T20:23:00.950Z][QUERY]: ALTER TABLE "bars" DROP COLUMN "logo_url"
[2024-03-21T20:23:00.951Z][QUERY]: ALTER TABLE "bars" ADD "logo_url" text
[2024-03-21T20:23:00.952Z][QUERY]: ALTER TABLE "addresses" ADD CONSTRAINT "FK_f8656e6a09130d913e77c797a74" FOREIGN KEY ("state_iso_alpha_code2") REFERENCES "states"("iso_alpha_code2") ON DELETE NO ACTION ON UPDATE NO ACTION
[2024-03-21T20:23:00.954Z][FAILED QUERY]: ALTER TABLE "addresses" ADD CONSTRAINT "FK_f8656e6a09130d913e77c797a74" FOREIGN KEY ("state_iso_alpha_code2") REFERENCES "states"("iso_alpha_code2") ON DELETE NO ACTION ON UPDATE NO ACTION
[2024-03-21T20:23:00.954Z][QUERY ERROR]: error: insert or update on table "addresses" violates foreign key constraint "FK_f8656e6a09130d913e77c797a74"
[2024-03-21T20:23:00.954Z][QUERY]: ROLLBACK
[2024-03-21T20:23:03.965Z][QUERY]: SELECT * FROM current_schema()
[2024-03-21T20:23:03.967Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-21T20:23:03.968Z][QUERY]: SELECT version();
[2024-03-21T20:23:03.968Z][QUERY]: START TRANSACTION
[2024-03-21T20:23:03.969Z][QUERY]: SELECT * FROM current_schema()
[2024-03-21T20:23:03.969Z][QUERY]: SELECT * FROM current_database()
[2024-03-21T20:23:03.970Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-21T20:23:03.975Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-21T20:23:03.981Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-21T20:23:03.981Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-21T20:23:03.981Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-21T20:23:03.981Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-21T20:23:04.007Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-21T20:23:04.009Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-21T20:23:04.010Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-21T20:23:04.020Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-21T20:23:04.022Z][QUERY]: ALTER TABLE "addresses" DROP CONSTRAINT "FK_f8656e6a09130d913e77c797a74"
[2024-03-21T20:23:04.024Z][QUERY]: CREATE TABLE "states" ("iso_alpha_code2" character varying(2) NOT NULL, "name" character varying(100) NOT NULL, CONSTRAINT "PK_6c519a20f7bfbc1a2fc97582cf6" PRIMARY KEY ("iso_alpha_code2"))
[2024-03-21T20:23:04.028Z][QUERY]: ALTER TABLE "bar_outlets" ADD "phone_number" character varying(12)
[2024-03-21T20:23:04.030Z][QUERY]: ALTER TABLE "addresses" ADD CONSTRAINT "UQ_a1c0225b2006b0cfdce29bf7d03" UNIQUE ("street")
[2024-03-21T20:23:04.033Z][QUERY]: ALTER TABLE "bar_outlets" DROP COLUMN "picture_url"
[2024-03-21T20:23:04.034Z][QUERY]: ALTER TABLE "bar_outlets" ADD "picture_url" text
[2024-03-21T20:23:04.034Z][QUERY]: ALTER TABLE "bars" DROP COLUMN "logo_url"
[2024-03-21T20:23:04.035Z][QUERY]: ALTER TABLE "bars" ADD "logo_url" text
[2024-03-21T20:23:04.036Z][QUERY]: ALTER TABLE "addresses" ADD CONSTRAINT "FK_f8656e6a09130d913e77c797a74" FOREIGN KEY ("state_iso_alpha_code2") REFERENCES "states"("iso_alpha_code2") ON DELETE NO ACTION ON UPDATE NO ACTION
[2024-03-21T20:23:04.038Z][FAILED QUERY]: ALTER TABLE "addresses" ADD CONSTRAINT "FK_f8656e6a09130d913e77c797a74" FOREIGN KEY ("state_iso_alpha_code2") REFERENCES "states"("iso_alpha_code2") ON DELETE NO ACTION ON UPDATE NO ACTION
[2024-03-21T20:23:04.038Z][QUERY ERROR]: error: insert or update on table "addresses" violates foreign key constraint "FK_f8656e6a09130d913e77c797a74"
[2024-03-21T20:23:04.039Z][QUERY]: ROLLBACK
[2024-03-21T20:24:10.296Z][QUERY]: SELECT * FROM current_schema()
[2024-03-21T20:24:10.308Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-21T20:24:10.309Z][QUERY]: SELECT version();
[2024-03-21T20:24:10.311Z][QUERY]: START TRANSACTION
[2024-03-21T20:24:10.312Z][QUERY]: SELECT * FROM current_schema()
[2024-03-21T20:24:10.313Z][QUERY]: SELECT * FROM current_database()
[2024-03-21T20:24:10.314Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-21T20:24:10.321Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-21T20:24:10.329Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-21T20:24:10.329Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-21T20:24:10.329Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-21T20:24:10.330Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-21T20:24:10.361Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-21T20:24:10.364Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-21T20:24:10.366Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-21T20:24:10.377Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-21T20:24:10.379Z][QUERY]: ALTER TABLE "addresses" DROP CONSTRAINT "FK_f8656e6a09130d913e77c797a74"
[2024-03-21T20:24:10.384Z][QUERY]: CREATE TABLE "states" ("iso_alpha_code2" character varying(2) NOT NULL, "name" character varying(100) NOT NULL, CONSTRAINT "PK_6c519a20f7bfbc1a2fc97582cf6" PRIMARY KEY ("iso_alpha_code2"))
[2024-03-21T20:24:10.389Z][QUERY]: ALTER TABLE "bar_outlets" ADD "phone_number" character varying(12)
[2024-03-21T20:24:10.391Z][QUERY]: ALTER TABLE "addresses" ADD CONSTRAINT "UQ_a1c0225b2006b0cfdce29bf7d03" UNIQUE ("street")
[2024-03-21T20:24:10.395Z][QUERY]: ALTER TABLE "bar_outlets" DROP COLUMN "picture_url"
[2024-03-21T20:24:10.396Z][QUERY]: ALTER TABLE "bar_outlets" ADD "picture_url" text
[2024-03-21T20:24:10.397Z][QUERY]: ALTER TABLE "bars" DROP COLUMN "logo_url"
[2024-03-21T20:24:10.398Z][QUERY]: ALTER TABLE "bars" ADD "logo_url" text
[2024-03-21T20:24:10.400Z][QUERY]: ALTER TABLE "addresses" ADD CONSTRAINT "FK_f8656e6a09130d913e77c797a74" FOREIGN KEY ("state_iso_alpha_code2") REFERENCES "states"("iso_alpha_code2") ON DELETE NO ACTION ON UPDATE NO ACTION
[2024-03-21T20:24:10.404Z][FAILED QUERY]: ALTER TABLE "addresses" ADD CONSTRAINT "FK_f8656e6a09130d913e77c797a74" FOREIGN KEY ("state_iso_alpha_code2") REFERENCES "states"("iso_alpha_code2") ON DELETE NO ACTION ON UPDATE NO ACTION
[2024-03-21T20:24:10.404Z][QUERY ERROR]: error: insert or update on table "addresses" violates foreign key constraint "FK_f8656e6a09130d913e77c797a74"
[2024-03-21T20:24:10.437Z][QUERY]: ROLLBACK
[2024-03-21T20:24:13.451Z][QUERY]: SELECT * FROM current_schema()
[2024-03-21T20:24:13.454Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-21T20:24:13.455Z][QUERY]: SELECT version();
[2024-03-21T20:24:13.456Z][QUERY]: START TRANSACTION
[2024-03-21T20:24:13.456Z][QUERY]: SELECT * FROM current_schema()
[2024-03-21T20:24:13.457Z][QUERY]: SELECT * FROM current_database()
[2024-03-21T20:24:13.457Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-21T20:24:13.463Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-21T20:24:13.469Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-21T20:24:13.469Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-21T20:24:13.469Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-21T20:24:13.469Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-21T20:24:13.497Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-21T20:24:13.500Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-21T20:24:13.501Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-21T20:24:13.511Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-21T20:24:13.513Z][QUERY]: ALTER TABLE "addresses" DROP CONSTRAINT "FK_f8656e6a09130d913e77c797a74"
[2024-03-21T20:24:13.515Z][QUERY]: CREATE TABLE "states" ("iso_alpha_code2" character varying(2) NOT NULL, "name" character varying(100) NOT NULL, CONSTRAINT "PK_6c519a20f7bfbc1a2fc97582cf6" PRIMARY KEY ("iso_alpha_code2"))
[2024-03-21T20:24:13.519Z][QUERY]: ALTER TABLE "bar_outlets" ADD "phone_number" character varying(12)
[2024-03-21T20:24:13.521Z][QUERY]: ALTER TABLE "addresses" ADD CONSTRAINT "UQ_a1c0225b2006b0cfdce29bf7d03" UNIQUE ("street")
[2024-03-21T20:24:13.524Z][QUERY]: ALTER TABLE "bar_outlets" DROP COLUMN "picture_url"
[2024-03-21T20:24:13.524Z][QUERY]: ALTER TABLE "bar_outlets" ADD "picture_url" text
[2024-03-21T20:24:13.525Z][QUERY]: ALTER TABLE "bars" DROP COLUMN "logo_url"
[2024-03-21T20:24:13.526Z][QUERY]: ALTER TABLE "bars" ADD "logo_url" text
[2024-03-21T20:24:13.527Z][QUERY]: ALTER TABLE "addresses" ADD CONSTRAINT "FK_f8656e6a09130d913e77c797a74" FOREIGN KEY ("state_iso_alpha_code2") REFERENCES "states"("iso_alpha_code2") ON DELETE NO ACTION ON UPDATE NO ACTION
[2024-03-21T20:24:13.529Z][FAILED QUERY]: ALTER TABLE "addresses" ADD CONSTRAINT "FK_f8656e6a09130d913e77c797a74" FOREIGN KEY ("state_iso_alpha_code2") REFERENCES "states"("iso_alpha_code2") ON DELETE NO ACTION ON UPDATE NO ACTION
[2024-03-21T20:24:13.529Z][QUERY ERROR]: error: insert or update on table "addresses" violates foreign key constraint "FK_f8656e6a09130d913e77c797a74"
[2024-03-21T20:24:13.529Z][QUERY]: ROLLBACK
[2024-03-21T20:24:16.542Z][QUERY]: SELECT * FROM current_schema()
[2024-03-21T20:24:16.544Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-21T20:24:16.546Z][QUERY]: SELECT version();
[2024-03-21T20:24:16.546Z][QUERY]: START TRANSACTION
[2024-03-21T20:24:16.547Z][QUERY]: SELECT * FROM current_schema()
[2024-03-21T20:24:16.548Z][QUERY]: SELECT * FROM current_database()
[2024-03-21T20:24:16.548Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-21T20:24:16.553Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-21T20:24:16.560Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-21T20:24:16.560Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-21T20:24:16.560Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-21T20:24:16.560Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-21T20:24:16.588Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-21T20:24:16.591Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-21T20:24:16.592Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-21T20:24:16.603Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-21T20:24:16.605Z][QUERY]: ALTER TABLE "addresses" DROP CONSTRAINT "FK_f8656e6a09130d913e77c797a74"
[2024-03-21T20:24:16.607Z][QUERY]: CREATE TABLE "states" ("iso_alpha_code2" character varying(2) NOT NULL, "name" character varying(100) NOT NULL, CONSTRAINT "PK_6c519a20f7bfbc1a2fc97582cf6" PRIMARY KEY ("iso_alpha_code2"))
[2024-03-21T20:24:16.612Z][QUERY]: ALTER TABLE "bar_outlets" ADD "phone_number" character varying(12)
[2024-03-21T20:24:16.613Z][QUERY]: ALTER TABLE "addresses" ADD CONSTRAINT "UQ_a1c0225b2006b0cfdce29bf7d03" UNIQUE ("street")
[2024-03-21T20:24:16.616Z][QUERY]: ALTER TABLE "bar_outlets" DROP COLUMN "picture_url"
[2024-03-21T20:24:16.617Z][QUERY]: ALTER TABLE "bar_outlets" ADD "picture_url" text
[2024-03-21T20:24:16.618Z][QUERY]: ALTER TABLE "bars" DROP COLUMN "logo_url"
[2024-03-21T20:24:16.618Z][QUERY]: ALTER TABLE "bars" ADD "logo_url" text
[2024-03-21T20:24:16.619Z][QUERY]: ALTER TABLE "addresses" ADD CONSTRAINT "FK_f8656e6a09130d913e77c797a74" FOREIGN KEY ("state_iso_alpha_code2") REFERENCES "states"("iso_alpha_code2") ON DELETE NO ACTION ON UPDATE NO ACTION
[2024-03-21T20:24:16.622Z][FAILED QUERY]: ALTER TABLE "addresses" ADD CONSTRAINT "FK_f8656e6a09130d913e77c797a74" FOREIGN KEY ("state_iso_alpha_code2") REFERENCES "states"("iso_alpha_code2") ON DELETE NO ACTION ON UPDATE NO ACTION
[2024-03-21T20:24:16.622Z][QUERY ERROR]: error: insert or update on table "addresses" violates foreign key constraint "FK_f8656e6a09130d913e77c797a74"
[2024-03-21T20:24:16.622Z][QUERY]: ROLLBACK
[2024-03-21T20:24:19.634Z][QUERY]: SELECT * FROM current_schema()
[2024-03-21T20:24:19.637Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-21T20:24:19.638Z][QUERY]: SELECT version();
[2024-03-21T20:24:19.640Z][QUERY]: START TRANSACTION
[2024-03-21T20:24:19.640Z][QUERY]: SELECT * FROM current_schema()
[2024-03-21T20:24:19.641Z][QUERY]: SELECT * FROM current_database()
[2024-03-21T20:24:19.642Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-21T20:24:19.648Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-21T20:24:19.656Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-21T20:24:19.656Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-21T20:24:19.657Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-21T20:24:19.657Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-21T20:24:19.687Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-21T20:24:19.690Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-21T20:24:19.691Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-21T20:24:19.702Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-21T20:24:19.704Z][QUERY]: ALTER TABLE "addresses" DROP CONSTRAINT "FK_f8656e6a09130d913e77c797a74"
[2024-03-21T20:24:19.706Z][QUERY]: CREATE TABLE "states" ("iso_alpha_code2" character varying(2) NOT NULL, "name" character varying(100) NOT NULL, CONSTRAINT "PK_6c519a20f7bfbc1a2fc97582cf6" PRIMARY KEY ("iso_alpha_code2"))
[2024-03-21T20:24:19.712Z][QUERY]: ALTER TABLE "bar_outlets" ADD "phone_number" character varying(12)
[2024-03-21T20:24:19.713Z][QUERY]: ALTER TABLE "addresses" ADD CONSTRAINT "UQ_a1c0225b2006b0cfdce29bf7d03" UNIQUE ("street")
[2024-03-21T20:24:19.717Z][QUERY]: ALTER TABLE "bar_outlets" DROP COLUMN "picture_url"
[2024-03-21T20:24:19.717Z][QUERY]: ALTER TABLE "bar_outlets" ADD "picture_url" text
[2024-03-21T20:24:19.718Z][QUERY]: ALTER TABLE "bars" DROP COLUMN "logo_url"
[2024-03-21T20:24:19.719Z][QUERY]: ALTER TABLE "bars" ADD "logo_url" text
[2024-03-21T20:24:19.719Z][QUERY]: ALTER TABLE "addresses" ADD CONSTRAINT "FK_f8656e6a09130d913e77c797a74" FOREIGN KEY ("state_iso_alpha_code2") REFERENCES "states"("iso_alpha_code2") ON DELETE NO ACTION ON UPDATE NO ACTION
[2024-03-21T20:24:19.722Z][FAILED QUERY]: ALTER TABLE "addresses" ADD CONSTRAINT "FK_f8656e6a09130d913e77c797a74" FOREIGN KEY ("state_iso_alpha_code2") REFERENCES "states"("iso_alpha_code2") ON DELETE NO ACTION ON UPDATE NO ACTION
[2024-03-21T20:24:19.722Z][QUERY ERROR]: error: insert or update on table "addresses" violates foreign key constraint "FK_f8656e6a09130d913e77c797a74"
[2024-03-21T20:24:19.722Z][QUERY]: ROLLBACK
[2024-03-21T20:24:22.733Z][QUERY]: SELECT * FROM current_schema()
[2024-03-21T20:24:22.736Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-21T20:24:22.736Z][QUERY]: SELECT version();
[2024-03-21T20:24:22.737Z][QUERY]: START TRANSACTION
[2024-03-21T20:24:22.738Z][QUERY]: SELECT * FROM current_schema()
[2024-03-21T20:24:22.739Z][QUERY]: SELECT * FROM current_database()
[2024-03-21T20:24:22.739Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-21T20:24:22.745Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-21T20:24:22.751Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-21T20:24:22.752Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-21T20:24:22.752Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-21T20:24:22.752Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-21T20:24:22.778Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-21T20:24:22.781Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-21T20:24:22.782Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-21T20:24:22.793Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-21T20:24:22.794Z][QUERY]: ALTER TABLE "addresses" DROP CONSTRAINT "FK_f8656e6a09130d913e77c797a74"
[2024-03-21T20:24:22.797Z][QUERY]: CREATE TABLE "states" ("iso_alpha_code2" character varying(2) NOT NULL, "name" character varying(100) NOT NULL, CONSTRAINT "PK_6c519a20f7bfbc1a2fc97582cf6" PRIMARY KEY ("iso_alpha_code2"))
[2024-03-21T20:24:22.801Z][QUERY]: ALTER TABLE "bar_outlets" ADD "phone_number" character varying(12)
[2024-03-21T20:24:22.802Z][QUERY]: ALTER TABLE "addresses" ADD CONSTRAINT "UQ_a1c0225b2006b0cfdce29bf7d03" UNIQUE ("street")
[2024-03-21T20:24:22.805Z][QUERY]: ALTER TABLE "bar_outlets" DROP COLUMN "picture_url"
[2024-03-21T20:24:22.806Z][QUERY]: ALTER TABLE "bar_outlets" ADD "picture_url" text
[2024-03-21T20:24:22.806Z][QUERY]: ALTER TABLE "bars" DROP COLUMN "logo_url"
[2024-03-21T20:24:22.807Z][QUERY]: ALTER TABLE "bars" ADD "logo_url" text
[2024-03-21T20:24:22.808Z][QUERY]: ALTER TABLE "addresses" ADD CONSTRAINT "FK_f8656e6a09130d913e77c797a74" FOREIGN KEY ("state_iso_alpha_code2") REFERENCES "states"("iso_alpha_code2") ON DELETE NO ACTION ON UPDATE NO ACTION
[2024-03-21T20:24:22.810Z][FAILED QUERY]: ALTER TABLE "addresses" ADD CONSTRAINT "FK_f8656e6a09130d913e77c797a74" FOREIGN KEY ("state_iso_alpha_code2") REFERENCES "states"("iso_alpha_code2") ON DELETE NO ACTION ON UPDATE NO ACTION
[2024-03-21T20:24:22.810Z][QUERY ERROR]: error: insert or update on table "addresses" violates foreign key constraint "FK_f8656e6a09130d913e77c797a74"
[2024-03-21T20:24:22.810Z][QUERY]: ROLLBACK
[2024-03-21T20:31:36.901Z][QUERY]: SELECT * FROM current_schema()
[2024-03-21T20:31:36.913Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-21T20:31:36.914Z][QUERY]: SELECT version();
[2024-03-21T20:31:36.915Z][QUERY]: START TRANSACTION
[2024-03-21T20:31:36.917Z][QUERY]: SELECT * FROM current_schema()
[2024-03-21T20:31:36.917Z][QUERY]: SELECT * FROM current_database()
[2024-03-21T20:31:36.918Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-21T20:31:36.924Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-21T20:31:36.932Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-21T20:31:36.932Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-21T20:31:36.933Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-21T20:31:36.933Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-21T20:31:36.962Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-21T20:31:36.965Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-21T20:31:36.966Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-21T20:31:36.977Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-21T20:31:36.978Z][QUERY]: ALTER TABLE "addresses" DROP CONSTRAINT "FK_f8656e6a09130d913e77c797a74"
[2024-03-21T20:31:36.983Z][QUERY]: CREATE TABLE "states" ("iso_alpha_code2" character varying(2) NOT NULL, "name" character varying(100) NOT NULL, CONSTRAINT "PK_6c519a20f7bfbc1a2fc97582cf6" PRIMARY KEY ("iso_alpha_code2"))
[2024-03-21T20:31:36.989Z][QUERY]: ALTER TABLE "bar_outlets" ADD "phone_number" character varying(12)
[2024-03-21T20:31:36.991Z][QUERY]: ALTER TABLE "addresses" ADD CONSTRAINT "UQ_a1c0225b2006b0cfdce29bf7d03" UNIQUE ("street")
[2024-03-21T20:31:36.995Z][QUERY]: ALTER TABLE "bar_outlets" DROP COLUMN "picture_url"
[2024-03-21T20:31:36.996Z][QUERY]: ALTER TABLE "bar_outlets" ADD "picture_url" text
[2024-03-21T20:31:36.997Z][QUERY]: ALTER TABLE "bars" DROP COLUMN "logo_url"
[2024-03-21T20:31:36.997Z][QUERY]: ALTER TABLE "bars" ADD "logo_url" text
[2024-03-21T20:31:36.999Z][QUERY]: ALTER TABLE "addresses" ADD CONSTRAINT "FK_f8656e6a09130d913e77c797a74" FOREIGN KEY ("state_iso_alpha_code2") REFERENCES "states"("iso_alpha_code2") ON DELETE NO ACTION ON UPDATE NO ACTION
[2024-03-21T20:31:37.002Z][FAILED QUERY]: ALTER TABLE "addresses" ADD CONSTRAINT "FK_f8656e6a09130d913e77c797a74" FOREIGN KEY ("state_iso_alpha_code2") REFERENCES "states"("iso_alpha_code2") ON DELETE NO ACTION ON UPDATE NO ACTION
[2024-03-21T20:31:37.002Z][QUERY ERROR]: error: insert or update on table "addresses" violates foreign key constraint "FK_f8656e6a09130d913e77c797a74"
[2024-03-21T20:31:37.035Z][QUERY]: ROLLBACK
[2024-03-21T20:31:40.049Z][QUERY]: SELECT * FROM current_schema()
[2024-03-21T20:31:40.053Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-21T20:31:40.053Z][QUERY]: SELECT version();
[2024-03-21T20:31:40.054Z][QUERY]: START TRANSACTION
[2024-03-21T20:31:40.055Z][QUERY]: SELECT * FROM current_schema()
[2024-03-21T20:31:40.055Z][QUERY]: SELECT * FROM current_database()
[2024-03-21T20:31:40.056Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-21T20:31:40.060Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-21T20:31:40.066Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-21T20:31:40.066Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-21T20:31:40.066Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-21T20:31:40.067Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-21T20:31:40.093Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-21T20:31:40.096Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-21T20:31:40.097Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-21T20:31:40.107Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-21T20:31:40.108Z][QUERY]: ALTER TABLE "addresses" DROP CONSTRAINT "FK_f8656e6a09130d913e77c797a74"
[2024-03-21T20:31:40.110Z][QUERY]: CREATE TABLE "states" ("iso_alpha_code2" character varying(2) NOT NULL, "name" character varying(100) NOT NULL, CONSTRAINT "PK_6c519a20f7bfbc1a2fc97582cf6" PRIMARY KEY ("iso_alpha_code2"))
[2024-03-21T20:31:40.116Z][QUERY]: ALTER TABLE "bar_outlets" ADD "phone_number" character varying(12)
[2024-03-21T20:31:40.117Z][QUERY]: ALTER TABLE "addresses" ADD CONSTRAINT "UQ_a1c0225b2006b0cfdce29bf7d03" UNIQUE ("street")
[2024-03-21T20:31:40.120Z][QUERY]: ALTER TABLE "bar_outlets" DROP COLUMN "picture_url"
[2024-03-21T20:31:40.121Z][QUERY]: ALTER TABLE "bar_outlets" ADD "picture_url" text
[2024-03-21T20:31:40.122Z][QUERY]: ALTER TABLE "bars" DROP COLUMN "logo_url"
[2024-03-21T20:31:40.122Z][QUERY]: ALTER TABLE "bars" ADD "logo_url" text
[2024-03-21T20:31:40.123Z][QUERY]: ALTER TABLE "addresses" ADD CONSTRAINT "FK_f8656e6a09130d913e77c797a74" FOREIGN KEY ("state_iso_alpha_code2") REFERENCES "states"("iso_alpha_code2") ON DELETE NO ACTION ON UPDATE NO ACTION
[2024-03-21T20:31:40.126Z][FAILED QUERY]: ALTER TABLE "addresses" ADD CONSTRAINT "FK_f8656e6a09130d913e77c797a74" FOREIGN KEY ("state_iso_alpha_code2") REFERENCES "states"("iso_alpha_code2") ON DELETE NO ACTION ON UPDATE NO ACTION
[2024-03-21T20:31:40.126Z][QUERY ERROR]: error: insert or update on table "addresses" violates foreign key constraint "FK_f8656e6a09130d913e77c797a74"
[2024-03-21T20:31:40.126Z][QUERY]: ROLLBACK
[2024-03-21T20:34:17.575Z][QUERY]: SELECT * FROM current_schema()
[2024-03-21T20:34:17.588Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-21T20:34:17.589Z][QUERY]: SELECT version();
[2024-03-21T20:34:17.590Z][QUERY]: START TRANSACTION
[2024-03-21T20:34:17.591Z][QUERY]: SELECT * FROM current_schema()
[2024-03-21T20:34:17.592Z][QUERY]: SELECT * FROM current_database()
[2024-03-21T20:34:17.593Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-21T20:34:17.600Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-21T20:34:17.607Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-21T20:34:17.608Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-21T20:34:17.608Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-21T20:34:17.608Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-21T20:34:17.638Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-21T20:34:17.641Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-21T20:34:17.642Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-21T20:34:17.654Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-21T20:34:17.659Z][QUERY]: ALTER TABLE "bar_outlets" ADD "phone_number" character varying(12)
[2024-03-21T20:34:17.661Z][QUERY]: ALTER TABLE "addresses" ADD CONSTRAINT "UQ_a1c0225b2006b0cfdce29bf7d03" UNIQUE ("street")
[2024-03-21T20:34:17.666Z][QUERY]: ALTER TABLE "bar_outlets" DROP COLUMN "picture_url"
[2024-03-21T20:34:17.667Z][QUERY]: ALTER TABLE "bar_outlets" ADD "picture_url" text
[2024-03-21T20:34:17.668Z][QUERY]: ALTER TABLE "bars" DROP COLUMN "logo_url"
[2024-03-21T20:34:17.669Z][QUERY]: ALTER TABLE "bars" ADD "logo_url" text
[2024-03-21T20:34:17.670Z][QUERY]: COMMIT
[2024-03-23T14:01:25.560Z][QUERY]: SELECT * FROM current_schema()
[2024-03-23T14:01:25.582Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-23T14:01:25.586Z][QUERY]: SELECT version();
[2024-03-23T14:01:25.589Z][QUERY]: START TRANSACTION
[2024-03-23T14:01:25.590Z][QUERY]: SELECT * FROM current_schema()
[2024-03-23T14:01:25.591Z][QUERY]: SELECT * FROM current_database()
[2024-03-23T14:01:25.593Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-23T14:01:25.626Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-23T14:01:25.645Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-23T14:01:25.646Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-23T14:01:25.646Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-23T14:01:25.646Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-23T14:01:25.745Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-23T14:01:25.747Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-23T14:01:25.749Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-23T14:01:25.763Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-23T14:01:25.769Z][QUERY]: COMMIT
[2024-03-23T14:04:03.811Z][QUERY]: SELECT * FROM current_schema()
[2024-03-23T14:04:03.823Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-23T14:04:03.825Z][QUERY]: SELECT version();
[2024-03-23T14:04:03.826Z][QUERY]: START TRANSACTION
[2024-03-23T14:04:03.827Z][QUERY]: SELECT * FROM current_schema()
[2024-03-23T14:04:03.828Z][QUERY]: SELECT * FROM current_database()
[2024-03-23T14:04:03.829Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-23T14:04:03.834Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-23T14:04:03.841Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-23T14:04:03.841Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-23T14:04:03.841Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-23T14:04:03.842Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-23T14:04:03.869Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-23T14:04:03.872Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-23T14:04:03.873Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-23T14:04:03.885Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-23T14:04:03.889Z][QUERY]: COMMIT
[2024-03-23T14:06:03.383Z][QUERY]: SELECT * FROM current_schema()
[2024-03-23T14:06:03.395Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-23T14:06:03.396Z][QUERY]: SELECT version();
[2024-03-23T14:06:03.398Z][QUERY]: START TRANSACTION
[2024-03-23T14:06:03.399Z][QUERY]: SELECT * FROM current_schema()
[2024-03-23T14:06:03.400Z][QUERY]: SELECT * FROM current_database()
[2024-03-23T14:06:03.400Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-23T14:06:03.406Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-23T14:06:03.413Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-23T14:06:03.413Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-23T14:06:03.413Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-23T14:06:03.413Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-23T14:06:03.443Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-23T14:06:03.446Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-23T14:06:03.447Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-23T14:06:03.457Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-23T14:06:03.462Z][QUERY]: COMMIT
[2024-03-23T14:06:35.213Z][QUERY]: SELECT * FROM current_schema()
[2024-03-23T14:06:35.226Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-23T14:06:35.228Z][QUERY]: SELECT version();
[2024-03-23T14:06:35.229Z][QUERY]: START TRANSACTION
[2024-03-23T14:06:35.230Z][QUERY]: SELECT * FROM current_schema()
[2024-03-23T14:06:35.231Z][QUERY]: SELECT * FROM current_database()
[2024-03-23T14:06:35.232Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-23T14:06:35.237Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-23T14:06:35.244Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-23T14:06:35.244Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-23T14:06:35.244Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-23T14:06:35.244Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-23T14:06:35.273Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-23T14:06:35.275Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-23T14:06:35.276Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-23T14:06:35.288Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-23T14:06:35.293Z][QUERY]: COMMIT
[2024-03-23T14:08:13.249Z][QUERY]: SELECT * FROM current_schema()
[2024-03-23T14:08:13.260Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-23T14:08:13.261Z][QUERY]: SELECT version();
[2024-03-23T14:08:13.263Z][QUERY]: START TRANSACTION
[2024-03-23T14:08:13.264Z][QUERY]: SELECT * FROM current_schema()
[2024-03-23T14:08:13.265Z][QUERY]: SELECT * FROM current_database()
[2024-03-23T14:08:13.265Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-23T14:08:13.271Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-23T14:08:13.277Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-23T14:08:13.277Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-23T14:08:13.278Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-23T14:08:13.278Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-23T14:08:13.305Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-23T14:08:13.309Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-23T14:08:13.310Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-23T14:08:13.321Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-23T14:08:13.326Z][QUERY]: COMMIT
[2024-03-23T14:08:41.591Z][QUERY]: SELECT * FROM current_schema()
[2024-03-23T14:08:41.602Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-23T14:08:41.603Z][QUERY]: SELECT version();
[2024-03-23T14:08:41.605Z][QUERY]: START TRANSACTION
[2024-03-23T14:08:41.606Z][QUERY]: SELECT * FROM current_schema()
[2024-03-23T14:08:41.607Z][QUERY]: SELECT * FROM current_database()
[2024-03-23T14:08:41.607Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-23T14:08:41.613Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-23T14:08:41.619Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-23T14:08:41.620Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-23T14:08:41.620Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-23T14:08:41.620Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-23T14:08:41.648Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-23T14:08:41.651Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-23T14:08:41.652Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-23T14:08:41.662Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-23T14:08:41.667Z][QUERY]: COMMIT
[2024-03-23T14:36:25.591Z][QUERY]: SELECT * FROM current_schema()
[2024-03-23T14:36:25.604Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-23T14:36:25.605Z][QUERY]: SELECT version();
[2024-03-23T14:36:25.606Z][QUERY]: START TRANSACTION
[2024-03-23T14:36:25.607Z][QUERY]: SELECT * FROM current_schema()
[2024-03-23T14:36:25.608Z][QUERY]: SELECT * FROM current_database()
[2024-03-23T14:36:25.608Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-23T14:36:25.614Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-23T14:36:25.620Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-23T14:36:25.621Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-23T14:36:25.621Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-23T14:36:25.621Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-23T14:36:25.651Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-23T14:36:25.654Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-23T14:36:25.655Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-23T14:36:25.666Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-23T14:36:25.671Z][QUERY]: COMMIT
[2024-03-23T14:44:56.523Z][QUERY]: SELECT * FROM current_schema()
[2024-03-23T14:44:56.535Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-23T14:44:56.537Z][QUERY]: SELECT version();
[2024-03-23T14:44:56.538Z][QUERY]: START TRANSACTION
[2024-03-23T14:44:56.539Z][QUERY]: SELECT * FROM current_schema()
[2024-03-23T14:44:56.540Z][QUERY]: SELECT * FROM current_database()
[2024-03-23T14:44:56.540Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-23T14:44:56.547Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-23T14:44:56.553Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-23T14:44:56.554Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-23T14:44:56.554Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-23T14:44:56.554Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-23T14:44:56.583Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-23T14:44:56.585Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-23T14:44:56.586Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-23T14:44:56.596Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-23T14:44:56.602Z][QUERY]: COMMIT
[2024-03-23T14:49:09.782Z][QUERY]: SELECT * FROM current_schema()
[2024-03-23T14:49:09.795Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-23T14:49:09.796Z][QUERY]: SELECT version();
[2024-03-23T14:49:09.798Z][QUERY]: START TRANSACTION
[2024-03-23T14:49:09.799Z][QUERY]: SELECT * FROM current_schema()
[2024-03-23T14:49:09.800Z][QUERY]: SELECT * FROM current_database()
[2024-03-23T14:49:09.801Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-23T14:49:09.808Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-23T14:49:09.816Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-23T14:49:09.817Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-23T14:49:09.817Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-23T14:49:09.817Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-23T14:49:09.847Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-23T14:49:09.850Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-23T14:49:09.851Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-23T14:49:09.861Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-23T14:49:09.866Z][QUERY]: COMMIT
[2024-03-23T16:07:07.352Z][QUERY]: SELECT * FROM current_schema()
[2024-03-23T16:07:07.368Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-23T16:07:07.371Z][QUERY]: SELECT version();
[2024-03-23T16:07:07.373Z][QUERY]: START TRANSACTION
[2024-03-23T16:07:07.374Z][QUERY]: SELECT * FROM current_schema()
[2024-03-23T16:07:07.374Z][QUERY]: SELECT * FROM current_database()
[2024-03-23T16:07:07.375Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-23T16:07:07.388Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-23T16:07:07.399Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-23T16:07:07.399Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-23T16:07:07.399Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-23T16:07:07.399Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-23T16:07:07.451Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-23T16:07:07.454Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-23T16:07:07.455Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-23T16:07:07.467Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-23T16:07:07.472Z][QUERY]: COMMIT
[2024-03-24T12:38:02.997Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T12:38:06.043Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T12:38:09.057Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T12:38:12.067Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T12:38:15.079Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T12:38:18.091Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T12:38:21.103Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T12:38:24.115Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T12:38:27.128Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T12:39:49.587Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T12:39:49.598Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T12:39:49.600Z][QUERY]: SELECT version();
[2024-03-24T12:39:49.602Z][QUERY]: START TRANSACTION
[2024-03-24T12:39:49.603Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T12:39:49.604Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T12:39:49.605Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T12:39:49.619Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T12:39:49.629Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T12:39:49.630Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T12:39:49.630Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T12:39:49.630Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T12:39:49.684Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T12:39:49.688Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T12:39:49.689Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T12:39:49.702Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T12:39:49.707Z][QUERY]: COMMIT
[2024-03-24T12:44:03.492Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T12:44:03.508Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T12:44:03.509Z][QUERY]: SELECT version();
[2024-03-24T12:44:03.511Z][QUERY]: START TRANSACTION
[2024-03-24T12:44:03.512Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T12:44:03.513Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T12:44:03.513Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T12:44:03.519Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T12:44:03.527Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T12:44:03.527Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T12:44:03.527Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T12:44:03.528Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T12:44:03.556Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T12:44:03.559Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T12:44:03.560Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T12:44:03.571Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T12:44:03.577Z][QUERY]: COMMIT
[2024-03-24T12:48:15.975Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T12:48:15.989Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T12:48:15.990Z][QUERY]: SELECT version();
[2024-03-24T12:48:15.992Z][QUERY]: START TRANSACTION
[2024-03-24T12:48:15.994Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T12:48:15.994Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T12:48:15.995Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T12:48:16.002Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T12:48:16.010Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T12:48:16.011Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T12:48:16.011Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T12:48:16.011Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T12:48:16.047Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T12:48:16.049Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T12:48:16.051Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T12:48:16.061Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T12:48:16.066Z][QUERY]: COMMIT
[2024-03-24T12:55:20.028Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T12:55:20.039Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T12:55:20.040Z][QUERY]: SELECT version();
[2024-03-24T12:55:20.041Z][QUERY]: START TRANSACTION
[2024-03-24T12:55:20.043Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T12:55:20.043Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T12:55:20.044Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T12:55:20.050Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T12:55:20.057Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T12:55:20.057Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T12:55:20.058Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T12:55:20.058Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T12:55:20.092Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T12:55:20.096Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T12:55:20.097Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T12:55:20.108Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T12:55:20.113Z][QUERY]: COMMIT
[2024-03-24T12:56:16.207Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T12:56:16.218Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T12:56:16.219Z][QUERY]: SELECT version();
[2024-03-24T12:56:16.221Z][QUERY]: START TRANSACTION
[2024-03-24T12:56:16.223Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T12:56:16.224Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T12:56:16.224Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T12:56:16.230Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T12:56:16.239Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T12:56:16.239Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T12:56:16.239Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T12:56:16.239Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T12:56:16.269Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T12:56:16.272Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T12:56:16.273Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T12:56:16.284Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T12:56:16.289Z][QUERY]: COMMIT
[2024-03-24T12:56:31.909Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T12:56:31.923Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T12:56:31.924Z][QUERY]: SELECT version();
[2024-03-24T12:56:31.925Z][QUERY]: START TRANSACTION
[2024-03-24T12:56:31.926Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T12:56:31.927Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T12:56:31.928Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T12:56:31.933Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T12:56:31.940Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T12:56:31.940Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T12:56:31.940Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T12:56:31.940Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T12:56:31.969Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T12:56:31.971Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T12:56:31.972Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T12:56:31.983Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T12:56:31.988Z][QUERY]: COMMIT
[2024-03-24T13:07:15.835Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:07:15.852Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T13:07:15.854Z][QUERY]: SELECT version();
[2024-03-24T13:07:15.856Z][QUERY]: START TRANSACTION
[2024-03-24T13:07:15.858Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:07:15.859Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T13:07:15.860Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T13:07:15.868Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T13:07:15.880Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T13:07:15.881Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:07:15.881Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:07:15.881Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T13:07:15.911Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T13:07:15.914Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T13:07:15.915Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T13:07:15.927Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T13:07:15.932Z][QUERY]: COMMIT
[2024-03-24T13:07:21.573Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:07:21.587Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T13:07:21.588Z][QUERY]: SELECT version();
[2024-03-24T13:07:21.590Z][QUERY]: START TRANSACTION
[2024-03-24T13:07:21.591Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:07:21.592Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T13:07:21.593Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T13:07:21.599Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T13:07:21.606Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T13:07:21.606Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:07:21.607Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:07:21.607Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T13:07:21.637Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T13:07:21.641Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T13:07:21.642Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T13:07:21.656Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T13:07:21.661Z][QUERY]: COMMIT
[2024-03-24T13:07:23.118Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:07:23.130Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T13:07:23.131Z][QUERY]: SELECT version();
[2024-03-24T13:07:23.132Z][QUERY]: START TRANSACTION
[2024-03-24T13:07:23.133Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:07:23.134Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T13:07:23.135Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T13:07:23.142Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T13:07:23.149Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T13:07:23.149Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:07:23.149Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:07:23.149Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T13:07:23.178Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T13:07:23.180Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T13:07:23.181Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T13:07:23.193Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T13:07:23.198Z][QUERY]: COMMIT
[2024-03-24T13:07:24.622Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:07:24.635Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T13:07:24.636Z][QUERY]: SELECT version();
[2024-03-24T13:07:24.637Z][QUERY]: START TRANSACTION
[2024-03-24T13:07:24.639Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:07:24.639Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T13:07:24.640Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T13:07:24.646Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T13:07:24.654Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T13:07:24.654Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:07:24.654Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:07:24.654Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T13:07:24.683Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T13:07:24.686Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T13:07:24.687Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T13:07:24.698Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T13:07:24.704Z][QUERY]: COMMIT
[2024-03-24T13:07:26.149Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:07:26.162Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T13:07:26.163Z][QUERY]: SELECT version();
[2024-03-24T13:07:26.165Z][QUERY]: START TRANSACTION
[2024-03-24T13:07:26.167Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:07:26.168Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T13:07:26.169Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T13:07:26.175Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T13:07:26.182Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T13:07:26.182Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:07:26.182Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:07:26.183Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T13:07:26.214Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T13:07:26.217Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T13:07:26.218Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T13:07:26.229Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T13:07:26.236Z][QUERY]: COMMIT
[2024-03-24T13:07:27.835Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:07:27.849Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T13:07:27.851Z][QUERY]: SELECT version();
[2024-03-24T13:07:27.852Z][QUERY]: START TRANSACTION
[2024-03-24T13:07:27.854Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:07:27.855Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T13:07:27.856Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T13:07:27.863Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T13:07:27.871Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T13:07:27.871Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:07:27.872Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:07:27.872Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T13:07:27.904Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T13:07:27.908Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T13:07:27.909Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T13:07:27.921Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T13:07:27.926Z][QUERY]: COMMIT
[2024-03-24T13:22:21.504Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:22:21.518Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T13:22:21.519Z][QUERY]: SELECT version();
[2024-03-24T13:22:21.520Z][QUERY]: START TRANSACTION
[2024-03-24T13:22:21.521Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:22:21.522Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T13:22:21.523Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T13:22:21.529Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T13:22:21.536Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T13:22:21.536Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:22:21.536Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:22:21.536Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T13:22:21.566Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T13:22:21.569Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T13:22:21.570Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T13:22:21.580Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T13:22:21.585Z][QUERY]: COMMIT
[2024-03-24T13:22:26.187Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:22:26.202Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T13:22:26.204Z][QUERY]: SELECT version();
[2024-03-24T13:22:26.205Z][QUERY]: START TRANSACTION
[2024-03-24T13:22:26.206Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:22:26.207Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T13:22:26.207Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T13:22:26.213Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T13:22:26.219Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T13:22:26.219Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:22:26.220Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:22:26.220Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T13:22:26.252Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T13:22:26.255Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T13:22:26.256Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T13:22:26.267Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T13:22:26.273Z][QUERY]: COMMIT
[2024-03-24T13:22:27.687Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:22:27.701Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T13:22:27.702Z][QUERY]: SELECT version();
[2024-03-24T13:22:27.703Z][QUERY]: START TRANSACTION
[2024-03-24T13:22:27.704Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:22:27.705Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T13:22:27.706Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T13:22:27.711Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T13:22:27.717Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T13:22:27.718Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:22:27.718Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:22:27.718Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T13:22:27.749Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T13:22:27.751Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T13:22:27.752Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T13:22:27.763Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T13:22:27.767Z][QUERY]: COMMIT
[2024-03-24T13:22:29.191Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:22:29.202Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T13:22:29.204Z][QUERY]: SELECT version();
[2024-03-24T13:22:29.205Z][QUERY]: START TRANSACTION
[2024-03-24T13:22:29.206Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:22:29.206Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T13:22:29.207Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T13:22:29.213Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T13:22:29.219Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T13:22:29.220Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:22:29.220Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:22:29.220Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T13:22:29.250Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T13:22:29.254Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T13:22:29.255Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T13:22:29.266Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T13:22:29.271Z][QUERY]: COMMIT
[2024-03-24T13:22:30.701Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:22:30.713Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T13:22:30.714Z][QUERY]: SELECT version();
[2024-03-24T13:22:30.716Z][QUERY]: START TRANSACTION
[2024-03-24T13:22:30.718Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:22:30.719Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T13:22:30.719Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T13:22:30.726Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T13:22:30.733Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T13:22:30.734Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:22:30.734Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:22:30.734Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T13:22:30.767Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T13:22:30.771Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T13:22:30.773Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T13:22:30.786Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T13:22:30.792Z][QUERY]: COMMIT
[2024-03-24T13:22:32.222Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:22:32.236Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T13:22:32.237Z][QUERY]: SELECT version();
[2024-03-24T13:22:32.239Z][QUERY]: START TRANSACTION
[2024-03-24T13:22:32.240Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:22:32.241Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T13:22:32.242Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T13:22:32.247Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T13:22:32.253Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T13:22:32.254Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:22:32.254Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:22:32.254Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T13:22:32.284Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T13:22:32.287Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T13:22:32.288Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T13:22:32.299Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T13:22:32.304Z][QUERY]: COMMIT
[2024-03-24T13:22:33.745Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:22:33.757Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T13:22:33.758Z][QUERY]: SELECT version();
[2024-03-24T13:22:33.759Z][QUERY]: START TRANSACTION
[2024-03-24T13:22:33.761Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:22:33.762Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T13:22:33.762Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T13:22:33.768Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T13:22:33.776Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T13:22:33.777Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:22:33.777Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:22:33.777Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T13:22:33.806Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T13:22:33.809Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T13:22:33.810Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T13:22:33.821Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T13:22:33.826Z][QUERY]: COMMIT
[2024-03-24T13:22:35.289Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:22:35.304Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T13:22:35.306Z][QUERY]: SELECT version();
[2024-03-24T13:22:35.309Z][QUERY]: START TRANSACTION
[2024-03-24T13:22:35.311Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:22:35.312Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T13:22:35.313Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T13:22:35.319Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T13:22:35.327Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T13:22:35.327Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:22:35.327Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:22:35.328Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T13:22:35.365Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T13:22:35.368Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T13:22:35.370Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T13:22:35.382Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T13:22:35.388Z][QUERY]: COMMIT
[2024-03-24T13:22:36.942Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:22:36.954Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T13:22:36.955Z][QUERY]: SELECT version();
[2024-03-24T13:22:36.957Z][QUERY]: START TRANSACTION
[2024-03-24T13:22:36.959Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:22:36.960Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T13:22:36.960Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T13:22:36.966Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T13:22:36.974Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T13:22:36.974Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:22:36.975Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:22:36.975Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T13:22:37.004Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T13:22:37.007Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T13:22:37.008Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T13:22:37.019Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T13:22:37.024Z][QUERY]: COMMIT
[2024-03-24T13:38:46.270Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:38:46.282Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T13:38:46.283Z][QUERY]: SELECT version();
[2024-03-24T13:38:46.285Z][QUERY]: START TRANSACTION
[2024-03-24T13:38:46.286Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:38:46.287Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T13:38:46.287Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T13:38:46.295Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T13:38:46.303Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T13:38:46.304Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:38:46.304Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:38:46.304Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T13:38:46.339Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T13:38:46.342Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T13:38:46.343Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T13:38:46.353Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T13:38:46.358Z][QUERY]: COMMIT
[2024-03-24T13:39:24.657Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:39:24.668Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T13:39:24.670Z][QUERY]: SELECT version();
[2024-03-24T13:39:24.671Z][QUERY]: START TRANSACTION
[2024-03-24T13:39:24.672Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:39:24.673Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T13:39:24.674Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T13:39:24.680Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T13:39:24.687Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T13:39:24.687Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:39:24.687Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:39:24.688Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T13:39:24.716Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T13:39:24.718Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T13:39:24.719Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T13:39:24.729Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T13:39:24.734Z][QUERY]: COMMIT
[2024-03-24T13:53:51.753Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:53:51.765Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T13:53:51.767Z][QUERY]: SELECT version();
[2024-03-24T13:53:51.768Z][QUERY]: START TRANSACTION
[2024-03-24T13:53:51.769Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:53:51.770Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T13:53:51.771Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T13:53:51.776Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T13:53:51.783Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T13:53:51.783Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:53:51.783Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:53:51.783Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T13:53:51.811Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T13:53:51.814Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T13:53:51.815Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T13:53:51.825Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T13:53:51.830Z][QUERY]: COMMIT
[2024-03-24T13:54:48.968Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:54:48.979Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T13:54:48.980Z][QUERY]: SELECT version();
[2024-03-24T13:54:48.981Z][QUERY]: START TRANSACTION
[2024-03-24T13:54:48.982Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:54:48.983Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T13:54:48.984Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T13:54:48.989Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T13:54:48.996Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T13:54:48.996Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:54:48.996Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:54:48.996Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T13:54:49.024Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T13:54:49.026Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T13:54:49.027Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T13:54:49.038Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T13:54:49.043Z][QUERY]: COMMIT
[2024-03-24T13:55:07.950Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:55:07.963Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T13:55:07.965Z][QUERY]: SELECT version();
[2024-03-24T13:55:07.966Z][QUERY]: START TRANSACTION
[2024-03-24T13:55:07.968Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:55:07.969Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T13:55:07.970Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T13:55:07.976Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T13:55:07.983Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T13:55:07.983Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:55:07.983Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:55:07.984Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T13:55:08.011Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T13:55:08.014Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T13:55:08.014Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T13:55:08.025Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T13:55:08.029Z][QUERY]: COMMIT
[2024-03-24T13:55:12.615Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:55:12.626Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T13:55:12.627Z][QUERY]: SELECT version();
[2024-03-24T13:55:12.628Z][QUERY]: START TRANSACTION
[2024-03-24T13:55:12.630Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:55:12.631Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T13:55:12.631Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T13:55:12.637Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T13:55:12.643Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T13:55:12.643Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:55:12.644Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:55:12.644Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T13:55:12.670Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T13:55:12.673Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T13:55:12.674Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T13:55:12.684Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T13:55:12.689Z][QUERY]: COMMIT
[2024-03-24T13:55:26.667Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:55:26.679Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T13:55:26.680Z][QUERY]: SELECT version();
[2024-03-24T13:55:26.682Z][QUERY]: START TRANSACTION
[2024-03-24T13:55:26.685Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:55:26.686Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T13:55:26.687Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T13:55:26.694Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T13:55:26.701Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T13:55:26.702Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:55:26.702Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:55:26.702Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T13:55:26.732Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T13:55:26.735Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T13:55:26.736Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T13:55:26.746Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T13:55:26.751Z][QUERY]: COMMIT
[2024-03-24T13:55:39.320Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:55:39.331Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T13:55:39.332Z][QUERY]: SELECT version();
[2024-03-24T13:55:39.333Z][QUERY]: START TRANSACTION
[2024-03-24T13:55:39.334Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:55:39.335Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T13:55:39.336Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T13:55:39.341Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T13:55:39.348Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T13:55:39.348Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:55:39.349Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:55:39.349Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T13:55:39.375Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T13:55:39.378Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T13:55:39.379Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T13:55:39.389Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T13:55:39.394Z][QUERY]: COMMIT
[2024-03-24T13:56:43.945Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:56:43.961Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T13:56:43.962Z][QUERY]: SELECT version();
[2024-03-24T13:56:43.964Z][QUERY]: START TRANSACTION
[2024-03-24T13:56:43.965Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:56:43.967Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T13:56:43.968Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T13:56:43.973Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T13:56:43.979Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T13:56:43.979Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:56:43.980Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:56:43.980Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T13:56:44.008Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T13:56:44.011Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T13:56:44.012Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T13:56:44.022Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T13:56:44.026Z][QUERY]: COMMIT
[2024-03-24T13:57:20.734Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:57:20.745Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T13:57:20.747Z][QUERY]: SELECT version();
[2024-03-24T13:57:20.748Z][QUERY]: START TRANSACTION
[2024-03-24T13:57:20.749Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:57:20.750Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T13:57:20.750Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T13:57:20.756Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T13:57:20.762Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T13:57:20.762Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:57:20.762Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:57:20.762Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T13:57:20.789Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T13:57:20.792Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T13:57:20.793Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T13:57:20.803Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T13:57:20.807Z][QUERY]: COMMIT
[2024-03-24T13:58:28.808Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:58:28.820Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T13:58:28.821Z][QUERY]: SELECT version();
[2024-03-24T13:58:28.822Z][QUERY]: START TRANSACTION
[2024-03-24T13:58:28.824Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:58:28.825Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T13:58:28.826Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T13:58:28.832Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T13:58:28.839Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T13:58:28.839Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:58:28.839Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:58:28.840Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T13:58:28.870Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T13:58:28.873Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T13:58:28.874Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T13:58:28.885Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T13:58:28.890Z][QUERY]: COMMIT
[2024-03-24T13:59:42.300Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:59:42.313Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T13:59:42.314Z][QUERY]: SELECT version();
[2024-03-24T13:59:42.315Z][QUERY]: START TRANSACTION
[2024-03-24T13:59:42.317Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T13:59:42.318Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T13:59:42.318Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T13:59:42.324Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T13:59:42.332Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T13:59:42.332Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:59:42.332Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T13:59:42.332Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T13:59:42.359Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T13:59:42.361Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T13:59:42.362Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T13:59:42.372Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T13:59:42.377Z][QUERY]: COMMIT
[2024-03-24T14:53:05.851Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T14:53:05.867Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T14:53:05.869Z][QUERY]: SELECT version();
[2024-03-24T14:53:05.871Z][QUERY]: START TRANSACTION
[2024-03-24T14:53:05.872Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T14:53:05.873Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T14:53:05.874Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T14:53:05.887Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T14:53:05.897Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T14:53:05.898Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T14:53:05.898Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T14:53:05.898Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T14:53:05.950Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T14:53:05.953Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T14:53:05.954Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T14:53:05.966Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T14:53:05.971Z][QUERY]: COMMIT
[2024-03-24T15:08:22.194Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T15:08:22.205Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T15:08:22.207Z][QUERY]: SELECT version();
[2024-03-24T15:08:22.208Z][QUERY]: START TRANSACTION
[2024-03-24T15:08:22.210Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T15:08:22.211Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T15:08:22.212Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T15:08:22.218Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T15:08:22.225Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T15:08:22.225Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T15:08:22.226Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T15:08:22.226Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T15:08:22.255Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T15:08:22.257Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T15:08:22.258Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T15:08:22.268Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T15:08:22.275Z][QUERY]: COMMIT
[2024-03-24T15:17:07.708Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T15:17:07.719Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T15:17:07.720Z][QUERY]: SELECT version();
[2024-03-24T15:17:07.721Z][QUERY]: START TRANSACTION
[2024-03-24T15:17:07.723Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T15:17:07.723Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T15:17:07.725Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T15:17:07.734Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T15:17:07.741Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T15:17:07.742Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T15:17:07.742Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T15:17:07.742Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T15:17:07.773Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T15:17:07.776Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T15:17:07.777Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T15:17:07.788Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T15:17:07.792Z][QUERY]: COMMIT
[2024-03-24T15:21:53.033Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T15:21:53.043Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T15:21:53.045Z][QUERY]: SELECT version();
[2024-03-24T15:21:53.046Z][QUERY]: START TRANSACTION
[2024-03-24T15:21:53.048Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T15:21:53.048Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T15:21:53.049Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T15:21:53.055Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T15:21:53.062Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T15:21:53.062Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T15:21:53.062Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T15:21:53.062Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T15:21:53.090Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T15:21:53.093Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T15:21:53.094Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T15:21:53.104Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T15:21:53.109Z][QUERY]: COMMIT
[2024-03-24T15:22:03.353Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T15:22:03.365Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T15:22:03.366Z][QUERY]: SELECT version();
[2024-03-24T15:22:03.367Z][QUERY]: START TRANSACTION
[2024-03-24T15:22:03.368Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T15:22:03.369Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T15:22:03.370Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T15:22:03.375Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T15:22:03.381Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T15:22:03.381Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T15:22:03.381Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T15:22:03.381Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T15:22:03.410Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T15:22:03.412Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T15:22:03.413Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T15:22:03.424Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T15:22:03.429Z][QUERY]: COMMIT
[2024-03-24T15:24:34.552Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T15:24:34.566Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T15:24:34.567Z][QUERY]: SELECT version();
[2024-03-24T15:24:34.569Z][QUERY]: START TRANSACTION
[2024-03-24T15:24:34.570Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T15:24:34.571Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T15:24:34.572Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T15:24:34.579Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T15:24:34.587Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T15:24:34.587Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T15:24:34.587Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T15:24:34.587Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T15:24:34.621Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T15:24:34.624Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T15:24:34.625Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T15:24:34.636Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T15:24:34.640Z][QUERY]: COMMIT
[2024-03-24T15:25:18.715Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T15:25:18.769Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T15:25:18.776Z][QUERY]: SELECT version();
[2024-03-24T15:25:18.779Z][QUERY]: START TRANSACTION
[2024-03-24T15:25:18.781Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T15:25:18.783Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T15:25:18.784Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T15:25:18.799Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T15:25:18.811Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T15:25:18.811Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T15:25:18.812Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T15:25:18.812Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T15:25:18.899Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T15:25:18.907Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T15:25:18.909Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T15:25:18.957Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T15:25:18.977Z][QUERY]: COMMIT
[2024-03-24T15:25:25.300Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T15:25:25.310Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T15:25:25.312Z][QUERY]: SELECT version();
[2024-03-24T15:25:25.313Z][QUERY]: START TRANSACTION
[2024-03-24T15:25:25.314Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T15:25:25.315Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T15:25:25.315Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T15:25:25.320Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T15:25:25.326Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T15:25:25.327Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T15:25:25.327Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T15:25:25.327Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T15:25:25.353Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T15:25:25.356Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T15:25:25.357Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T15:25:25.368Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T15:25:25.374Z][QUERY]: COMMIT
[2024-03-24T15:26:15.002Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T15:26:15.014Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T15:26:15.015Z][QUERY]: SELECT version();
[2024-03-24T15:26:15.016Z][QUERY]: START TRANSACTION
[2024-03-24T15:26:15.017Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T15:26:15.018Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T15:26:15.019Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T15:26:15.025Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T15:26:15.031Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T15:26:15.032Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T15:26:15.032Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T15:26:15.032Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T15:26:15.064Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T15:26:15.066Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T15:26:15.067Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T15:26:15.077Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T15:26:15.082Z][QUERY]: COMMIT
[2024-03-24T15:26:21.703Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T15:26:21.714Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T15:26:21.715Z][QUERY]: SELECT version();
[2024-03-24T15:26:21.716Z][QUERY]: START TRANSACTION
[2024-03-24T15:26:21.718Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T15:26:21.718Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T15:26:21.719Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T15:26:21.724Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T15:26:21.731Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T15:26:21.731Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T15:26:21.732Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T15:26:21.732Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T15:26:21.759Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T15:26:21.762Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T15:26:21.763Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T15:26:21.774Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T15:26:21.779Z][QUERY]: COMMIT
[2024-03-24T15:26:23.161Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T15:26:23.176Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T15:26:23.177Z][QUERY]: SELECT version();
[2024-03-24T15:26:23.179Z][QUERY]: START TRANSACTION
[2024-03-24T15:26:23.180Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T15:26:23.182Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T15:26:23.183Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T15:26:23.189Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T15:26:23.195Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T15:26:23.196Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T15:26:23.196Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T15:26:23.196Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T15:26:23.226Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T15:26:23.229Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T15:26:23.230Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T15:26:23.240Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T15:26:23.245Z][QUERY]: COMMIT
[2024-03-24T15:26:24.627Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T15:26:24.638Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T15:26:24.640Z][QUERY]: SELECT version();
[2024-03-24T15:26:24.641Z][QUERY]: START TRANSACTION
[2024-03-24T15:26:24.642Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T15:26:24.643Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T15:26:24.644Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T15:26:24.650Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T15:26:24.656Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T15:26:24.657Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T15:26:24.657Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T15:26:24.657Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T15:26:24.684Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T15:26:24.687Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T15:26:24.688Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T15:26:24.698Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T15:26:24.703Z][QUERY]: COMMIT
[2024-03-24T15:26:26.037Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T15:26:26.049Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T15:26:26.050Z][QUERY]: SELECT version();
[2024-03-24T15:26:26.052Z][QUERY]: START TRANSACTION
[2024-03-24T15:26:26.053Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T15:26:26.054Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T15:26:26.055Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T15:26:26.060Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T15:26:26.067Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T15:26:26.067Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T15:26:26.067Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T15:26:26.067Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T15:26:26.096Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T15:26:26.099Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T15:26:26.100Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T15:26:26.110Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T15:26:26.115Z][QUERY]: COMMIT
[2024-03-24T15:26:27.450Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T15:26:27.462Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T15:26:27.463Z][QUERY]: SELECT version();
[2024-03-24T15:26:27.464Z][QUERY]: START TRANSACTION
[2024-03-24T15:26:27.466Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T15:26:27.466Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T15:26:27.470Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T15:26:27.475Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T15:26:27.482Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T15:26:27.482Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T15:26:27.482Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T15:26:27.482Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T15:26:27.510Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T15:26:27.513Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T15:26:27.514Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T15:26:27.524Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T15:26:27.529Z][QUERY]: COMMIT
[2024-03-24T15:26:28.712Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T15:26:28.724Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T15:26:28.725Z][QUERY]: SELECT version();
[2024-03-24T15:26:28.726Z][QUERY]: START TRANSACTION
[2024-03-24T15:26:28.728Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T15:26:28.729Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T15:26:28.729Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T15:26:28.736Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T15:26:28.742Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T15:26:28.743Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T15:26:28.743Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T15:26:28.743Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T15:26:28.772Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T15:26:28.776Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T15:26:28.778Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T15:26:28.789Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T15:26:28.794Z][QUERY]: COMMIT
[2024-03-24T15:26:30.145Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T15:26:30.157Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T15:26:30.158Z][QUERY]: SELECT version();
[2024-03-24T15:26:30.159Z][QUERY]: START TRANSACTION
[2024-03-24T15:26:30.160Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T15:26:30.161Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T15:26:30.161Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T15:26:30.167Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T15:26:30.174Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T15:26:30.174Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T15:26:30.174Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T15:26:30.174Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T15:26:30.202Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T15:26:30.204Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T15:26:30.205Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T15:26:30.216Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T15:26:30.221Z][QUERY]: COMMIT
[2024-03-24T17:05:38.191Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T17:05:38.210Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T17:05:38.213Z][QUERY]: SELECT version();
[2024-03-24T17:05:38.216Z][QUERY]: START TRANSACTION
[2024-03-24T17:05:38.217Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T17:05:38.217Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T17:05:38.218Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T17:05:38.245Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T17:05:38.262Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T17:05:38.263Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T17:05:38.263Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T17:05:38.263Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T17:05:38.340Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T17:05:38.342Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T17:05:38.344Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T17:05:38.356Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T17:05:38.361Z][QUERY]: COMMIT
[2024-03-24T17:28:10.990Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T17:28:11.001Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T17:28:11.002Z][QUERY]: SELECT version();
[2024-03-24T17:28:11.004Z][QUERY]: START TRANSACTION
[2024-03-24T17:28:11.005Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T17:28:11.005Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T17:28:11.006Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T17:28:11.011Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T17:28:11.017Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T17:28:11.017Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T17:28:11.017Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T17:28:11.017Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T17:28:11.046Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T17:28:11.049Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T17:28:11.050Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T17:28:11.058Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T17:28:11.063Z][QUERY]: COMMIT
[2024-03-24T17:30:38.217Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T17:30:38.228Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T17:30:38.229Z][QUERY]: SELECT version();
[2024-03-24T17:30:38.230Z][QUERY]: START TRANSACTION
[2024-03-24T17:30:38.231Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T17:30:38.232Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T17:30:38.232Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T17:30:38.237Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T17:30:38.243Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T17:30:38.243Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T17:30:38.243Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T17:30:38.244Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T17:30:38.275Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T17:30:38.277Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T17:30:38.278Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T17:30:38.287Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T17:30:38.292Z][QUERY]: COMMIT
[2024-03-24T17:53:44.998Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T17:53:45.008Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T17:53:45.009Z][QUERY]: SELECT version();
[2024-03-24T17:53:45.010Z][QUERY]: START TRANSACTION
[2024-03-24T17:53:45.011Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T17:53:45.012Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T17:53:45.012Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T17:53:45.018Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T17:53:45.024Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T17:53:45.024Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T17:53:45.024Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T17:53:45.024Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T17:53:45.051Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T17:53:45.053Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T17:53:45.054Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T17:53:45.063Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T17:53:45.067Z][QUERY]: COMMIT
[2024-03-24T17:54:40.062Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T17:54:40.072Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T17:54:40.074Z][QUERY]: SELECT version();
[2024-03-24T17:54:40.075Z][QUERY]: START TRANSACTION
[2024-03-24T17:54:40.076Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T17:54:40.077Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T17:54:40.077Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T17:54:40.082Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T17:54:40.088Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T17:54:40.088Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T17:54:40.088Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T17:54:40.089Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T17:54:40.115Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T17:54:40.117Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T17:54:40.118Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T17:54:40.127Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T17:54:40.131Z][QUERY]: COMMIT
[2024-03-24T17:54:56.654Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T17:54:56.665Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T17:54:56.666Z][QUERY]: SELECT version();
[2024-03-24T17:54:56.667Z][QUERY]: START TRANSACTION
[2024-03-24T17:54:56.668Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T17:54:56.669Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T17:54:56.669Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T17:54:56.674Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T17:54:56.680Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T17:54:56.681Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T17:54:56.681Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T17:54:56.681Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T17:54:56.707Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T17:54:56.710Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T17:54:56.711Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T17:54:56.720Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T17:54:56.724Z][QUERY]: COMMIT
[2024-03-24T17:57:20.382Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T17:57:20.392Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T17:57:20.394Z][QUERY]: SELECT version();
[2024-03-24T17:57:20.394Z][QUERY]: START TRANSACTION
[2024-03-24T17:57:20.395Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T17:57:20.396Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T17:57:20.397Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T17:57:20.402Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T17:57:20.408Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T17:57:20.408Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T17:57:20.409Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T17:57:20.409Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T17:57:20.435Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T17:57:20.437Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T17:57:20.438Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T17:57:20.447Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T17:57:20.451Z][QUERY]: COMMIT
[2024-03-24T17:58:05.356Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T17:58:05.367Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T17:58:05.368Z][QUERY]: SELECT version();
[2024-03-24T17:58:05.369Z][QUERY]: START TRANSACTION
[2024-03-24T17:58:05.370Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T17:58:05.371Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T17:58:05.371Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T17:58:05.376Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T17:58:05.381Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T17:58:05.382Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T17:58:05.382Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T17:58:05.382Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T17:58:05.407Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T17:58:05.410Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T17:58:05.411Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T17:58:05.419Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T17:58:05.424Z][QUERY]: COMMIT
[2024-03-24T18:09:56.055Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T18:09:56.065Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T18:09:56.066Z][QUERY]: SELECT version();
[2024-03-24T18:09:56.067Z][QUERY]: START TRANSACTION
[2024-03-24T18:09:56.069Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T18:09:56.069Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T18:09:56.070Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T18:09:56.075Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T18:09:56.081Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T18:09:56.081Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T18:09:56.081Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T18:09:56.081Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T18:09:56.108Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T18:09:56.110Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T18:09:56.111Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T18:09:56.120Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T18:09:56.124Z][QUERY]: COMMIT
[2024-03-24T18:13:20.841Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T18:13:20.852Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T18:13:20.853Z][QUERY]: SELECT version();
[2024-03-24T18:13:20.854Z][QUERY]: START TRANSACTION
[2024-03-24T18:13:20.855Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T18:13:20.855Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T18:13:20.856Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T18:13:20.861Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T18:13:20.867Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T18:13:20.867Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T18:13:20.867Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T18:13:20.867Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T18:13:20.894Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T18:13:20.897Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T18:13:20.898Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T18:13:20.907Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T18:13:20.911Z][QUERY]: COMMIT
[2024-03-24T18:13:36.380Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T18:13:36.390Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T18:13:36.391Z][QUERY]: SELECT version();
[2024-03-24T18:13:36.392Z][QUERY]: START TRANSACTION
[2024-03-24T18:13:36.393Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T18:13:36.394Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T18:13:36.394Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T18:13:36.399Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T18:13:36.404Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T18:13:36.404Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T18:13:36.404Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T18:13:36.404Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T18:13:36.428Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T18:13:36.431Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T18:13:36.432Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T18:13:36.440Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T18:13:36.445Z][QUERY]: COMMIT
[2024-03-24T18:21:43.249Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T18:21:43.260Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T18:21:43.262Z][QUERY]: SELECT version();
[2024-03-24T18:21:43.263Z][QUERY]: START TRANSACTION
[2024-03-24T18:21:43.264Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T18:21:43.265Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T18:21:43.266Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T18:21:43.271Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T18:21:43.277Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T18:21:43.278Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T18:21:43.278Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T18:21:43.278Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T18:21:43.304Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T18:21:43.307Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T18:21:43.308Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T18:21:43.319Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T18:21:43.323Z][QUERY]: COMMIT
[2024-03-24T18:22:05.357Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T18:22:05.368Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T18:22:05.369Z][QUERY]: SELECT version();
[2024-03-24T18:22:05.370Z][QUERY]: START TRANSACTION
[2024-03-24T18:22:05.371Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T18:22:05.372Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T18:22:05.372Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T18:22:05.377Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T18:22:05.382Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T18:22:05.383Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T18:22:05.383Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T18:22:05.383Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T18:22:05.407Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T18:22:05.410Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T18:22:05.411Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T18:22:05.419Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T18:22:05.423Z][QUERY]: COMMIT
[2024-03-24T18:24:38.092Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T18:24:38.103Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T18:24:38.104Z][QUERY]: SELECT version();
[2024-03-24T18:24:38.105Z][QUERY]: START TRANSACTION
[2024-03-24T18:24:38.106Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T18:24:38.106Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T18:24:38.107Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T18:24:38.112Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T18:24:38.118Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T18:24:38.119Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T18:24:38.119Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T18:24:38.119Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T18:24:38.146Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T18:24:38.148Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T18:24:38.149Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T18:24:38.158Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T18:24:38.163Z][QUERY]: COMMIT
[2024-03-24T18:27:32.619Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T18:27:32.630Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T18:27:32.631Z][QUERY]: SELECT version();
[2024-03-24T18:27:32.633Z][QUERY]: START TRANSACTION
[2024-03-24T18:27:32.634Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T18:27:32.634Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T18:27:32.635Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T18:27:32.640Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T18:27:32.646Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T18:27:32.646Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T18:27:32.646Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T18:27:32.647Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T18:27:32.672Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T18:27:32.674Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T18:27:32.675Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T18:27:32.684Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T18:27:32.688Z][QUERY]: COMMIT
[2024-03-24T18:39:36.712Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar"."name" AS "Bar_name", "Bar"."description" AS "Bar_description", "Bar"."logo_url" AS "Bar_logo_url", "Bar"."franchise_id" AS "Bar_franchise_id" FROM "bars" "Bar"
[2024-03-24T18:39:45.800Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar"."name" AS "Bar_name", "Bar"."description" AS "Bar_description", "Bar"."logo_url" AS "Bar_logo_url", "Bar"."franchise_id" AS "Bar_franchise_id" FROM "bars" "Bar"
[2024-03-24T18:40:28.999Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T18:40:29.011Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T18:40:29.013Z][QUERY]: SELECT version();
[2024-03-24T18:40:29.014Z][QUERY]: START TRANSACTION
[2024-03-24T18:40:29.015Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T18:40:29.016Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T18:40:29.017Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T18:40:29.024Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T18:40:29.031Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T18:40:29.031Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T18:40:29.031Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T18:40:29.031Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T18:40:29.062Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T18:40:29.065Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T18:40:29.066Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T18:40:29.075Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T18:40:29.080Z][QUERY]: COMMIT
[2024-03-24T18:40:40.813Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T18:40:40.825Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T18:40:40.826Z][QUERY]: SELECT version();
[2024-03-24T18:40:40.827Z][QUERY]: START TRANSACTION
[2024-03-24T18:40:40.829Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T18:40:40.829Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T18:40:40.830Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T18:40:40.835Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T18:40:40.840Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T18:40:40.841Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T18:40:40.841Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T18:40:40.841Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T18:40:40.867Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T18:40:40.869Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T18:40:40.871Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T18:40:40.880Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T18:40:40.885Z][QUERY]: COMMIT
[2024-03-24T18:41:03.689Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar"."name" AS "Bar_name", "Bar"."description" AS "Bar_description", "Bar"."logo_url" AS "Bar_logo_url", "Bar"."franchise_id" AS "Bar_franchise_id" FROM "bars" "Bar"
[2024-03-24T18:54:51.809Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T18:54:51.823Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T18:54:51.824Z][QUERY]: SELECT version();
[2024-03-24T18:54:51.825Z][QUERY]: START TRANSACTION
[2024-03-24T18:54:51.827Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T18:54:51.827Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T18:54:51.828Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T18:54:51.835Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T18:54:51.843Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T18:54:51.843Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T18:54:51.843Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T18:54:51.843Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T18:54:51.874Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T18:54:51.877Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T18:54:51.878Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T18:54:51.887Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T18:54:51.892Z][QUERY]: COMMIT
[2024-03-24T21:16:36.802Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T21:16:36.810Z][QUERY]: SELECT version();
[2024-03-24T21:16:36.811Z][QUERY]: START TRANSACTION
[2024-03-24T21:16:36.812Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T21:16:36.822Z][QUERY]: COMMIT
[2024-03-24T21:17:06.293Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T21:17:06.296Z][QUERY]: SELECT version();
[2024-03-24T21:17:06.297Z][QUERY]: START TRANSACTION
[2024-03-24T21:17:06.298Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T21:17:06.302Z][QUERY]: COMMIT
[2024-03-24T21:30:45.723Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T21:30:45.727Z][QUERY]: SELECT version();
[2024-03-24T21:30:45.728Z][QUERY]: START TRANSACTION
[2024-03-24T21:30:45.730Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T21:30:45.735Z][QUERY]: COMMIT
[2024-03-24T21:33:23.199Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T21:33:23.203Z][QUERY]: SELECT version();
[2024-03-24T21:33:23.204Z][QUERY]: START TRANSACTION
[2024-03-24T21:33:23.205Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T21:33:23.211Z][QUERY]: COMMIT
[2024-03-24T21:34:03.000Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T21:34:03.003Z][QUERY]: SELECT version();
[2024-03-24T21:34:03.005Z][QUERY]: START TRANSACTION
[2024-03-24T21:34:03.006Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T21:34:03.011Z][QUERY]: COMMIT
[2024-03-24T21:35:06.877Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T21:35:06.881Z][QUERY]: SELECT version();
[2024-03-24T21:35:06.882Z][QUERY]: START TRANSACTION
[2024-03-24T21:35:06.883Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T21:35:06.887Z][QUERY]: COMMIT
[2024-03-24T21:37:41.767Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T21:37:41.770Z][QUERY]: SELECT version();
[2024-03-24T21:37:41.771Z][QUERY]: START TRANSACTION
[2024-03-24T21:37:41.772Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T21:37:41.777Z][QUERY]: COMMIT
[2024-03-24T21:40:37.280Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T21:40:37.283Z][QUERY]: SELECT version();
[2024-03-24T21:40:37.284Z][QUERY]: START TRANSACTION
[2024-03-24T21:40:37.285Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T21:40:37.290Z][QUERY]: COMMIT
[2024-03-24T21:43:18.693Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T21:43:18.697Z][QUERY]: SELECT version();
[2024-03-24T21:43:18.698Z][QUERY]: START TRANSACTION
[2024-03-24T21:43:18.700Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T21:43:18.705Z][QUERY]: COMMIT
[2024-03-24T21:53:34.719Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T21:53:34.725Z][QUERY]: SELECT version();
[2024-03-24T21:53:34.728Z][QUERY]: START TRANSACTION
[2024-03-24T21:53:34.730Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T21:53:34.741Z][QUERY]: COMMIT
[2024-03-24T22:05:00.456Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T22:05:00.460Z][QUERY]: SELECT version();
[2024-03-24T22:05:00.462Z][QUERY]: START TRANSACTION
[2024-03-24T22:05:00.463Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T22:05:00.469Z][QUERY]: COMMIT
[2024-03-24T22:05:52.088Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T22:05:52.092Z][QUERY]: SELECT version();
[2024-03-24T22:05:52.093Z][QUERY]: START TRANSACTION
[2024-03-24T22:05:52.094Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T22:05:52.099Z][QUERY]: COMMIT
[2024-03-24T22:13:52.618Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T22:13:52.622Z][QUERY]: SELECT version();
[2024-03-24T22:13:52.623Z][QUERY]: START TRANSACTION
[2024-03-24T22:13:52.625Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T22:13:52.629Z][QUERY]: COMMIT
[2024-03-24T22:14:23.634Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T22:14:23.638Z][QUERY]: SELECT version();
[2024-03-24T22:14:23.639Z][QUERY]: START TRANSACTION
[2024-03-24T22:14:23.640Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T22:14:23.644Z][QUERY]: COMMIT
[2024-03-24T22:17:21.389Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T22:17:21.393Z][QUERY]: SELECT version();
[2024-03-24T22:17:21.395Z][QUERY]: START TRANSACTION
[2024-03-24T22:17:21.396Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T22:17:21.402Z][QUERY]: COMMIT
[2024-03-24T22:27:33.116Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T22:27:33.129Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T22:27:33.131Z][QUERY]: SELECT version();
[2024-03-24T22:27:33.132Z][QUERY]: START TRANSACTION
[2024-03-24T22:27:33.133Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T22:27:33.134Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T22:27:33.135Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T22:27:33.143Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T22:27:33.158Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T22:27:33.159Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T22:27:33.159Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T22:27:33.159Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T22:27:33.212Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T22:27:33.215Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T22:27:33.217Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T22:27:33.226Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T22:27:33.231Z][QUERY]: COMMIT
[2024-03-24T22:27:37.293Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar"."name" AS "Bar_name", "Bar"."description" AS "Bar_description", "Bar"."logo_url" AS "Bar_logo_url", "Bar"."franchise_id" AS "Bar_franchise_id" FROM "bars" "Bar"
[2024-03-24T22:31:59.109Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T22:31:59.120Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T22:31:59.121Z][QUERY]: SELECT version();
[2024-03-24T22:31:59.122Z][QUERY]: START TRANSACTION
[2024-03-24T22:31:59.124Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T22:31:59.124Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T22:31:59.125Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T22:31:59.130Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T22:31:59.136Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T22:31:59.136Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T22:31:59.137Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T22:31:59.137Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T22:31:59.165Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T22:31:59.167Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T22:31:59.168Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T22:31:59.177Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T22:31:59.182Z][QUERY]: COMMIT
[2024-03-24T22:33:23.502Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T22:33:23.513Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T22:33:23.514Z][QUERY]: SELECT version();
[2024-03-24T22:33:23.515Z][QUERY]: START TRANSACTION
[2024-03-24T22:33:23.516Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T22:33:23.517Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T22:33:23.517Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T22:33:23.523Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T22:33:23.528Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T22:33:23.528Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T22:33:23.529Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T22:33:23.529Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T22:33:23.557Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T22:33:23.560Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T22:33:23.561Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T22:33:23.570Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T22:33:23.576Z][QUERY]: COMMIT
[2024-03-24T22:34:20.155Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T22:34:20.166Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T22:34:20.168Z][QUERY]: SELECT version();
[2024-03-24T22:34:20.169Z][QUERY]: START TRANSACTION
[2024-03-24T22:34:20.170Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T22:34:20.171Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T22:34:20.172Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T22:34:20.177Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T22:34:20.183Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T22:34:20.184Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T22:34:20.184Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T22:34:20.184Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T22:34:20.214Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T22:34:20.216Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T22:34:20.217Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T22:34:20.227Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T22:34:20.232Z][QUERY]: COMMIT
[2024-03-24T22:35:43.961Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T22:35:43.972Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T22:35:43.973Z][QUERY]: SELECT version();
[2024-03-24T22:35:43.974Z][QUERY]: START TRANSACTION
[2024-03-24T22:35:43.976Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T22:35:43.976Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T22:35:43.977Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T22:35:43.983Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T22:35:43.989Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T22:35:43.990Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T22:35:43.990Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T22:35:43.990Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T22:35:44.018Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T22:35:44.021Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T22:35:44.023Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T22:35:44.032Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T22:35:44.037Z][QUERY]: COMMIT
[2024-03-24T22:36:00.471Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar"."name" AS "Bar_name", "Bar"."description" AS "Bar_description", "Bar"."logo_url" AS "Bar_logo_url", "Bar"."franchise_id" AS "Bar_franchise_id" FROM "bars" "Bar"
[2024-03-24T22:36:29.868Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar"."name" AS "Bar_name", "Bar"."description" AS "Bar_description", "Bar"."logo_url" AS "Bar_logo_url", "Bar"."franchise_id" AS "Bar_franchise_id" FROM "bars" "Bar"
[2024-03-24T22:36:36.186Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar"."name" AS "Bar_name", "Bar"."description" AS "Bar_description", "Bar"."logo_url" AS "Bar_logo_url", "Bar"."franchise_id" AS "Bar_franchise_id" FROM "bars" "Bar"
[2024-03-24T22:36:39.047Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar"."name" AS "Bar_name", "Bar"."description" AS "Bar_description", "Bar"."logo_url" AS "Bar_logo_url", "Bar"."franchise_id" AS "Bar_franchise_id" FROM "bars" "Bar"
[2024-03-24T23:08:25.812Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T23:08:25.823Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T23:08:25.824Z][QUERY]: SELECT version();
[2024-03-24T23:08:25.825Z][QUERY]: START TRANSACTION
[2024-03-24T23:08:25.826Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T23:08:25.827Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T23:08:25.828Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T23:08:25.832Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T23:08:25.838Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T23:08:25.838Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T23:08:25.839Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T23:08:25.839Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T23:08:25.867Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T23:08:25.869Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T23:08:25.870Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T23:08:25.879Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T23:08:25.884Z][QUERY]: COMMIT
[2024-03-24T23:15:36.538Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T23:15:36.549Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-24T23:15:36.550Z][QUERY]: SELECT version();
[2024-03-24T23:15:36.551Z][QUERY]: START TRANSACTION
[2024-03-24T23:15:36.552Z][QUERY]: SELECT * FROM current_schema()
[2024-03-24T23:15:36.553Z][QUERY]: SELECT * FROM current_database()
[2024-03-24T23:15:36.554Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-24T23:15:36.559Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-24T23:15:36.564Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-24T23:15:36.565Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T23:15:36.565Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-24T23:15:36.565Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-24T23:15:36.592Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-24T23:15:36.594Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-24T23:15:36.595Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-24T23:15:36.605Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-24T23:15:36.609Z][QUERY]: COMMIT
[2024-03-25T19:32:19.044Z][QUERY]: SELECT * FROM current_schema()
[2024-03-25T19:32:19.064Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-25T19:32:19.068Z][QUERY]: SELECT version();
[2024-03-25T19:32:19.070Z][QUERY]: START TRANSACTION
[2024-03-25T19:32:19.071Z][QUERY]: SELECT * FROM current_schema()
[2024-03-25T19:32:19.072Z][QUERY]: SELECT * FROM current_database()
[2024-03-25T19:32:19.073Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-25T19:32:19.102Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-25T19:32:19.119Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-25T19:32:19.119Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-25T19:32:19.119Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-25T19:32:19.119Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-25T19:32:19.183Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-25T19:32:19.186Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-25T19:32:19.188Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-25T19:32:19.200Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-25T19:32:19.205Z][QUERY]: COMMIT
[2024-03-25T19:32:31.161Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar"."name" AS "Bar_name", "Bar"."description" AS "Bar_description", "Bar"."logo_url" AS "Bar_logo_url", "Bar"."franchise_id" AS "Bar_franchise_id" FROM "bars" "Bar"
[2024-03-25T19:32:48.948Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar"."name" AS "Bar_name", "Bar"."description" AS "Bar_description", "Bar"."logo_url" AS "Bar_logo_url", "Bar"."franchise_id" AS "Bar_franchise_id" FROM "bars" "Bar"
[2024-03-25T19:32:48.957Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar__Bar_outletList"."id" AS "Bar__Bar_outletList_id", "Bar__Bar_outletList"."picture_url" AS "Bar__Bar_outletList_picture_url", "Bar__Bar_outletList"."phone_number" AS "Bar__Bar_outletList_phone_number", "Bar__Bar_outletList"."address_id" AS "Bar__Bar_outletList_address_id", "Bar__Bar_outletList"."bar_id" AS "Bar__Bar_outletList_bar_id" FROM "bars" "Bar" LEFT JOIN "bar_outlets" "Bar__Bar_outletList" ON "Bar__Bar_outletList"."bar_id"="Bar"."id" WHERE (("Bar"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9))) -- PARAMETERS: [1,3,4,5,6,7,8,9,10]
[2024-03-25T19:32:55.237Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar"."name" AS "Bar_name", "Bar"."description" AS "Bar_description", "Bar"."logo_url" AS "Bar_logo_url", "Bar"."franchise_id" AS "Bar_franchise_id" FROM "bars" "Bar"
[2024-03-25T19:32:55.240Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar__Bar_outletList"."id" AS "Bar__Bar_outletList_id", "Bar__Bar_outletList"."picture_url" AS "Bar__Bar_outletList_picture_url", "Bar__Bar_outletList"."phone_number" AS "Bar__Bar_outletList_phone_number", "Bar__Bar_outletList"."address_id" AS "Bar__Bar_outletList_address_id", "Bar__Bar_outletList"."bar_id" AS "Bar__Bar_outletList_bar_id" FROM "bars" "Bar" LEFT JOIN "bar_outlets" "Bar__Bar_outletList" ON "Bar__Bar_outletList"."bar_id"="Bar"."id" WHERE (("Bar"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9))) -- PARAMETERS: [1,3,4,5,6,7,8,9,10]
[2024-03-25T19:33:19.869Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar"."name" AS "Bar_name", "Bar"."description" AS "Bar_description", "Bar"."logo_url" AS "Bar_logo_url", "Bar"."franchise_id" AS "Bar_franchise_id" FROM "bars" "Bar"
[2024-03-25T19:33:19.873Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar__Bar_outletList"."id" AS "Bar__Bar_outletList_id", "Bar__Bar_outletList"."picture_url" AS "Bar__Bar_outletList_picture_url", "Bar__Bar_outletList"."phone_number" AS "Bar__Bar_outletList_phone_number", "Bar__Bar_outletList"."address_id" AS "Bar__Bar_outletList_address_id", "Bar__Bar_outletList"."bar_id" AS "Bar__Bar_outletList_bar_id" FROM "bars" "Bar" LEFT JOIN "bar_outlets" "Bar__Bar_outletList" ON "Bar__Bar_outletList"."bar_id"="Bar"."id" WHERE (("Bar"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9))) -- PARAMETERS: [1,3,4,5,6,7,8,9,10]
[2024-03-25T21:51:34.015Z][QUERY]: SELECT * FROM current_schema()
[2024-03-25T21:51:34.046Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-25T21:51:34.050Z][QUERY]: SELECT version();
[2024-03-25T21:51:34.052Z][QUERY]: START TRANSACTION
[2024-03-25T21:51:34.054Z][QUERY]: SELECT * FROM current_schema()
[2024-03-25T21:51:34.054Z][QUERY]: SELECT * FROM current_database()
[2024-03-25T21:51:34.056Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-25T21:51:34.087Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-25T21:51:34.106Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-25T21:51:34.106Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-25T21:51:34.106Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-25T21:51:34.106Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-25T21:51:34.232Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-25T21:51:34.237Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-25T21:51:34.240Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-25T21:51:34.257Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-25T21:51:34.264Z][QUERY]: COMMIT
[2024-03-25T21:51:39.770Z][QUERY]: SELECT * FROM current_schema()
[2024-03-25T21:51:39.781Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-25T21:51:39.782Z][QUERY]: SELECT version();
[2024-03-25T21:51:39.784Z][QUERY]: START TRANSACTION
[2024-03-25T21:51:39.785Z][QUERY]: SELECT * FROM current_schema()
[2024-03-25T21:51:39.785Z][QUERY]: SELECT * FROM current_database()
[2024-03-25T21:51:39.786Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-25T21:51:39.791Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-25T21:51:39.797Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-25T21:51:39.797Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-25T21:51:39.797Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-25T21:51:39.798Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-25T21:51:39.824Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-25T21:51:39.826Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-25T21:51:39.827Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-25T21:51:39.836Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-25T21:51:39.841Z][QUERY]: COMMIT
[2024-03-25T21:52:06.156Z][QUERY]: SELECT * FROM current_schema()
[2024-03-25T21:52:06.167Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-25T21:52:06.168Z][QUERY]: SELECT version();
[2024-03-25T21:52:06.169Z][QUERY]: START TRANSACTION
[2024-03-25T21:52:06.170Z][QUERY]: SELECT * FROM current_schema()
[2024-03-25T21:52:06.171Z][QUERY]: SELECT * FROM current_database()
[2024-03-25T21:52:06.172Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-25T21:52:06.177Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-25T21:52:06.182Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-25T21:52:06.183Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-25T21:52:06.183Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-25T21:52:06.183Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-25T21:52:06.210Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-25T21:52:06.212Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-25T21:52:06.213Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-25T21:52:06.222Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-25T21:52:06.227Z][QUERY]: COMMIT
[2024-03-25T22:02:05.013Z][QUERY]: SELECT * FROM current_schema()
[2024-03-25T22:02:05.033Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-25T22:02:05.036Z][QUERY]: SELECT version();
[2024-03-25T22:02:05.038Z][QUERY]: START TRANSACTION
[2024-03-25T22:02:05.040Z][QUERY]: SELECT * FROM current_schema()
[2024-03-25T22:02:05.041Z][QUERY]: SELECT * FROM current_database()
[2024-03-25T22:02:05.042Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-25T22:02:05.068Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-25T22:02:05.084Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-25T22:02:05.084Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-25T22:02:05.085Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-25T22:02:05.085Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-25T22:02:05.162Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-25T22:02:05.165Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-25T22:02:05.167Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-25T22:02:05.179Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-25T22:02:05.184Z][QUERY]: COMMIT
[2024-03-25T22:02:15.060Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar"."name" AS "Bar_name", "Bar"."description" AS "Bar_description", "Bar"."logo_url" AS "Bar_logo_url", "Bar"."franchise_id" AS "Bar_franchise_id" FROM "bars" "Bar"
[2024-03-25T22:02:15.069Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar__Bar_outletList"."id" AS "Bar__Bar_outletList_id", "Bar__Bar_outletList"."picture_url" AS "Bar__Bar_outletList_picture_url", "Bar__Bar_outletList"."phone_number" AS "Bar__Bar_outletList_phone_number", "Bar__Bar_outletList"."address_id" AS "Bar__Bar_outletList_address_id", "Bar__Bar_outletList"."bar_id" AS "Bar__Bar_outletList_bar_id", "Bar__Bar_outletList__Bar__Bar_outletList_address"."id" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_id", "Bar__Bar_outletList__Bar__Bar_outletList_address"."street" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_street", ST_AsGeoJSON("Bar__Bar_outletList__Bar__Bar_outletList_address"."location")::json AS "Bar__Bar_outletList__Bar__Bar_outletList_address_location", "Bar__Bar_outletList__Bar__Bar_outletList_address"."city" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_city", "Bar__Bar_outletList__Bar__Bar_outletList_address"."state_iso_alpha_code2" AS "9c8a2a271babc471772aad18ea54d85200ce8d38" FROM "bars" "Bar" LEFT JOIN "bar_outlets" "Bar__Bar_outletList" ON "Bar__Bar_outletList"."bar_id"="Bar"."id"  LEFT JOIN "addresses" "Bar__Bar_outletList__Bar__Bar_outletList_address" ON "Bar__Bar_outletList__Bar__Bar_outletList_address"."id"="Bar__Bar_outletList"."address_id" WHERE (("Bar"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9))) -- PARAMETERS: [1,3,4,5,6,7,8,9,10]
[2024-03-25T22:02:21.508Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar"."name" AS "Bar_name", "Bar"."description" AS "Bar_description", "Bar"."logo_url" AS "Bar_logo_url", "Bar"."franchise_id" AS "Bar_franchise_id" FROM "bars" "Bar"
[2024-03-25T22:02:21.511Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar__Bar_outletList"."id" AS "Bar__Bar_outletList_id", "Bar__Bar_outletList"."picture_url" AS "Bar__Bar_outletList_picture_url", "Bar__Bar_outletList"."phone_number" AS "Bar__Bar_outletList_phone_number", "Bar__Bar_outletList"."address_id" AS "Bar__Bar_outletList_address_id", "Bar__Bar_outletList"."bar_id" AS "Bar__Bar_outletList_bar_id", "Bar__Bar_outletList__Bar__Bar_outletList_address"."id" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_id", "Bar__Bar_outletList__Bar__Bar_outletList_address"."street" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_street", ST_AsGeoJSON("Bar__Bar_outletList__Bar__Bar_outletList_address"."location")::json AS "Bar__Bar_outletList__Bar__Bar_outletList_address_location", "Bar__Bar_outletList__Bar__Bar_outletList_address"."city" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_city", "Bar__Bar_outletList__Bar__Bar_outletList_address"."state_iso_alpha_code2" AS "9c8a2a271babc471772aad18ea54d85200ce8d38" FROM "bars" "Bar" LEFT JOIN "bar_outlets" "Bar__Bar_outletList" ON "Bar__Bar_outletList"."bar_id"="Bar"."id"  LEFT JOIN "addresses" "Bar__Bar_outletList__Bar__Bar_outletList_address" ON "Bar__Bar_outletList__Bar__Bar_outletList_address"."id"="Bar__Bar_outletList"."address_id" WHERE (("Bar"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9))) -- PARAMETERS: [1,3,4,5,6,7,8,9,10]
[2024-03-25T22:02:29.418Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar"."name" AS "Bar_name", "Bar"."description" AS "Bar_description", "Bar"."logo_url" AS "Bar_logo_url", "Bar"."franchise_id" AS "Bar_franchise_id" FROM "bars" "Bar"
[2024-03-25T22:02:29.421Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar__Bar_outletList"."id" AS "Bar__Bar_outletList_id", "Bar__Bar_outletList"."picture_url" AS "Bar__Bar_outletList_picture_url", "Bar__Bar_outletList"."phone_number" AS "Bar__Bar_outletList_phone_number", "Bar__Bar_outletList"."address_id" AS "Bar__Bar_outletList_address_id", "Bar__Bar_outletList"."bar_id" AS "Bar__Bar_outletList_bar_id", "Bar__Bar_outletList__Bar__Bar_outletList_address"."id" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_id", "Bar__Bar_outletList__Bar__Bar_outletList_address"."street" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_street", ST_AsGeoJSON("Bar__Bar_outletList__Bar__Bar_outletList_address"."location")::json AS "Bar__Bar_outletList__Bar__Bar_outletList_address_location", "Bar__Bar_outletList__Bar__Bar_outletList_address"."city" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_city", "Bar__Bar_outletList__Bar__Bar_outletList_address"."state_iso_alpha_code2" AS "9c8a2a271babc471772aad18ea54d85200ce8d38" FROM "bars" "Bar" LEFT JOIN "bar_outlets" "Bar__Bar_outletList" ON "Bar__Bar_outletList"."bar_id"="Bar"."id"  LEFT JOIN "addresses" "Bar__Bar_outletList__Bar__Bar_outletList_address" ON "Bar__Bar_outletList__Bar__Bar_outletList_address"."id"="Bar__Bar_outletList"."address_id" WHERE (("Bar"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9))) -- PARAMETERS: [1,3,4,5,6,7,8,9,10]
[2024-03-25T22:03:16.140Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar"."name" AS "Bar_name", "Bar"."description" AS "Bar_description", "Bar"."logo_url" AS "Bar_logo_url", "Bar"."franchise_id" AS "Bar_franchise_id" FROM "bars" "Bar"
[2024-03-25T22:03:16.147Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar__Bar_outletList"."id" AS "Bar__Bar_outletList_id", "Bar__Bar_outletList"."picture_url" AS "Bar__Bar_outletList_picture_url", "Bar__Bar_outletList"."phone_number" AS "Bar__Bar_outletList_phone_number", "Bar__Bar_outletList"."address_id" AS "Bar__Bar_outletList_address_id", "Bar__Bar_outletList"."bar_id" AS "Bar__Bar_outletList_bar_id", "Bar__Bar_outletList__Bar__Bar_outletList_address"."id" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_id", "Bar__Bar_outletList__Bar__Bar_outletList_address"."street" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_street", ST_AsGeoJSON("Bar__Bar_outletList__Bar__Bar_outletList_address"."location")::json AS "Bar__Bar_outletList__Bar__Bar_outletList_address_location", "Bar__Bar_outletList__Bar__Bar_outletList_address"."city" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_city", "Bar__Bar_outletList__Bar__Bar_outletList_address"."state_iso_alpha_code2" AS "9c8a2a271babc471772aad18ea54d85200ce8d38" FROM "bars" "Bar" LEFT JOIN "bar_outlets" "Bar__Bar_outletList" ON "Bar__Bar_outletList"."bar_id"="Bar"."id"  LEFT JOIN "addresses" "Bar__Bar_outletList__Bar__Bar_outletList_address" ON "Bar__Bar_outletList__Bar__Bar_outletList_address"."id"="Bar__Bar_outletList"."address_id" WHERE (("Bar"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9))) -- PARAMETERS: [1,3,4,5,6,7,8,9,10]
[2024-03-25T22:03:53.211Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar"."name" AS "Bar_name", "Bar"."description" AS "Bar_description", "Bar"."logo_url" AS "Bar_logo_url", "Bar"."franchise_id" AS "Bar_franchise_id" FROM "bars" "Bar"
[2024-03-25T22:03:53.218Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar__Bar_franchise"."id" AS "Bar__Bar_franchise_id", "Bar__Bar_franchise"."name" AS "Bar__Bar_franchise_name" FROM "bars" "Bar" LEFT JOIN "franchises" "Bar__Bar_franchise" ON "Bar__Bar_franchise"."id"="Bar"."franchise_id" WHERE (("Bar"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9))) -- PARAMETERS: [1,3,4,5,6,7,8,9,10]
[2024-03-25T22:03:53.227Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar__Bar_outletList"."id" AS "Bar__Bar_outletList_id", "Bar__Bar_outletList"."picture_url" AS "Bar__Bar_outletList_picture_url", "Bar__Bar_outletList"."phone_number" AS "Bar__Bar_outletList_phone_number", "Bar__Bar_outletList"."address_id" AS "Bar__Bar_outletList_address_id", "Bar__Bar_outletList"."bar_id" AS "Bar__Bar_outletList_bar_id", "Bar__Bar_outletList__Bar__Bar_outletList_address"."id" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_id", "Bar__Bar_outletList__Bar__Bar_outletList_address"."street" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_street", ST_AsGeoJSON("Bar__Bar_outletList__Bar__Bar_outletList_address"."location")::json AS "Bar__Bar_outletList__Bar__Bar_outletList_address_location", "Bar__Bar_outletList__Bar__Bar_outletList_address"."city" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_city", "Bar__Bar_outletList__Bar__Bar_outletList_address"."state_iso_alpha_code2" AS "9c8a2a271babc471772aad18ea54d85200ce8d38" FROM "bars" "Bar" LEFT JOIN "bar_outlets" "Bar__Bar_outletList" ON "Bar__Bar_outletList"."bar_id"="Bar"."id"  LEFT JOIN "addresses" "Bar__Bar_outletList__Bar__Bar_outletList_address" ON "Bar__Bar_outletList__Bar__Bar_outletList_address"."id"="Bar__Bar_outletList"."address_id" WHERE (("Bar"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9))) -- PARAMETERS: [1,3,4,5,6,7,8,9,10]
[2024-03-25T22:04:13.640Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar"."name" AS "Bar_name", "Bar"."description" AS "Bar_description", "Bar"."logo_url" AS "Bar_logo_url", "Bar"."franchise_id" AS "Bar_franchise_id" FROM "bars" "Bar"
[2024-03-25T22:04:13.645Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar__Bar_franchise"."id" AS "Bar__Bar_franchise_id", "Bar__Bar_franchise"."name" AS "Bar__Bar_franchise_name" FROM "bars" "Bar" LEFT JOIN "franchises" "Bar__Bar_franchise" ON "Bar__Bar_franchise"."id"="Bar"."franchise_id" WHERE (("Bar"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9))) -- PARAMETERS: [1,3,4,5,6,7,8,9,10]
[2024-03-25T22:04:13.653Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar__Bar_outletList"."id" AS "Bar__Bar_outletList_id", "Bar__Bar_outletList"."picture_url" AS "Bar__Bar_outletList_picture_url", "Bar__Bar_outletList"."phone_number" AS "Bar__Bar_outletList_phone_number", "Bar__Bar_outletList"."address_id" AS "Bar__Bar_outletList_address_id", "Bar__Bar_outletList"."bar_id" AS "Bar__Bar_outletList_bar_id", "Bar__Bar_outletList__Bar__Bar_outletList_address"."id" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_id", "Bar__Bar_outletList__Bar__Bar_outletList_address"."street" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_street", ST_AsGeoJSON("Bar__Bar_outletList__Bar__Bar_outletList_address"."location")::json AS "Bar__Bar_outletList__Bar__Bar_outletList_address_location", "Bar__Bar_outletList__Bar__Bar_outletList_address"."city" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_city", "Bar__Bar_outletList__Bar__Bar_outletList_address"."state_iso_alpha_code2" AS "9c8a2a271babc471772aad18ea54d85200ce8d38" FROM "bars" "Bar" LEFT JOIN "bar_outlets" "Bar__Bar_outletList" ON "Bar__Bar_outletList"."bar_id"="Bar"."id"  LEFT JOIN "addresses" "Bar__Bar_outletList__Bar__Bar_outletList_address" ON "Bar__Bar_outletList__Bar__Bar_outletList_address"."id"="Bar__Bar_outletList"."address_id" WHERE (("Bar"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9))) -- PARAMETERS: [1,3,4,5,6,7,8,9,10]
[2024-03-25T22:06:44.551Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar"."name" AS "Bar_name", "Bar"."description" AS "Bar_description", "Bar"."logo_url" AS "Bar_logo_url", "Bar"."franchise_id" AS "Bar_franchise_id" FROM "bars" "Bar"
[2024-03-25T22:06:44.556Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar__Bar_outletList"."id" AS "Bar__Bar_outletList_id", "Bar__Bar_outletList"."picture_url" AS "Bar__Bar_outletList_picture_url", "Bar__Bar_outletList"."phone_number" AS "Bar__Bar_outletList_phone_number", "Bar__Bar_outletList"."address_id" AS "Bar__Bar_outletList_address_id", "Bar__Bar_outletList"."bar_id" AS "Bar__Bar_outletList_bar_id", "Bar__Bar_outletList__Bar__Bar_outletList_address"."id" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_id", "Bar__Bar_outletList__Bar__Bar_outletList_address"."street" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_street", ST_AsGeoJSON("Bar__Bar_outletList__Bar__Bar_outletList_address"."location")::json AS "Bar__Bar_outletList__Bar__Bar_outletList_address_location", "Bar__Bar_outletList__Bar__Bar_outletList_address"."city" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_city", "Bar__Bar_outletList__Bar__Bar_outletList_address"."state_iso_alpha_code2" AS "9c8a2a271babc471772aad18ea54d85200ce8d38" FROM "bars" "Bar" LEFT JOIN "bar_outlets" "Bar__Bar_outletList" ON "Bar__Bar_outletList"."bar_id"="Bar"."id"  LEFT JOIN "addresses" "Bar__Bar_outletList__Bar__Bar_outletList_address" ON "Bar__Bar_outletList__Bar__Bar_outletList_address"."id"="Bar__Bar_outletList"."address_id" WHERE (("Bar"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9))) -- PARAMETERS: [1,3,4,5,6,7,8,9,10]
[2024-03-25T22:06:48.297Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar"."name" AS "Bar_name", "Bar"."description" AS "Bar_description", "Bar"."logo_url" AS "Bar_logo_url", "Bar"."franchise_id" AS "Bar_franchise_id" FROM "bars" "Bar"
[2024-03-25T22:06:48.300Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar__Bar_outletList"."id" AS "Bar__Bar_outletList_id", "Bar__Bar_outletList"."picture_url" AS "Bar__Bar_outletList_picture_url", "Bar__Bar_outletList"."phone_number" AS "Bar__Bar_outletList_phone_number", "Bar__Bar_outletList"."address_id" AS "Bar__Bar_outletList_address_id", "Bar__Bar_outletList"."bar_id" AS "Bar__Bar_outletList_bar_id", "Bar__Bar_outletList__Bar__Bar_outletList_address"."id" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_id", "Bar__Bar_outletList__Bar__Bar_outletList_address"."street" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_street", ST_AsGeoJSON("Bar__Bar_outletList__Bar__Bar_outletList_address"."location")::json AS "Bar__Bar_outletList__Bar__Bar_outletList_address_location", "Bar__Bar_outletList__Bar__Bar_outletList_address"."city" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_city", "Bar__Bar_outletList__Bar__Bar_outletList_address"."state_iso_alpha_code2" AS "9c8a2a271babc471772aad18ea54d85200ce8d38" FROM "bars" "Bar" LEFT JOIN "bar_outlets" "Bar__Bar_outletList" ON "Bar__Bar_outletList"."bar_id"="Bar"."id"  LEFT JOIN "addresses" "Bar__Bar_outletList__Bar__Bar_outletList_address" ON "Bar__Bar_outletList__Bar__Bar_outletList_address"."id"="Bar__Bar_outletList"."address_id" WHERE (("Bar"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9))) -- PARAMETERS: [1,3,4,5,6,7,8,9,10]
[2024-03-25T22:09:37.204Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar"."name" AS "Bar_name", "Bar"."description" AS "Bar_description", "Bar"."logo_url" AS "Bar_logo_url", "Bar"."franchise_id" AS "Bar_franchise_id" FROM "bars" "Bar"
[2024-03-25T22:09:37.212Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar__Bar_outletList"."id" AS "Bar__Bar_outletList_id", "Bar__Bar_outletList"."picture_url" AS "Bar__Bar_outletList_picture_url", "Bar__Bar_outletList"."phone_number" AS "Bar__Bar_outletList_phone_number", "Bar__Bar_outletList"."address_id" AS "Bar__Bar_outletList_address_id", "Bar__Bar_outletList"."bar_id" AS "Bar__Bar_outletList_bar_id", "Bar__Bar_outletList__Bar__Bar_outletList_address"."id" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_id", "Bar__Bar_outletList__Bar__Bar_outletList_address"."street" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_street", ST_AsGeoJSON("Bar__Bar_outletList__Bar__Bar_outletList_address"."location")::json AS "Bar__Bar_outletList__Bar__Bar_outletList_address_location", "Bar__Bar_outletList__Bar__Bar_outletList_address"."city" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_city", "Bar__Bar_outletList__Bar__Bar_outletList_address"."state_iso_alpha_code2" AS "9c8a2a271babc471772aad18ea54d85200ce8d38" FROM "bars" "Bar" LEFT JOIN "bar_outlets" "Bar__Bar_outletList" ON "Bar__Bar_outletList"."bar_id"="Bar"."id"  LEFT JOIN "addresses" "Bar__Bar_outletList__Bar__Bar_outletList_address" ON "Bar__Bar_outletList__Bar__Bar_outletList_address"."id"="Bar__Bar_outletList"."address_id" WHERE (("Bar"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9))) -- PARAMETERS: [1,3,4,5,6,7,8,9,10]
[2024-03-25T22:59:22.786Z][QUERY]: SELECT * FROM current_schema()
[2024-03-25T22:59:22.829Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-25T22:59:22.831Z][QUERY]: SELECT version();
[2024-03-25T22:59:22.834Z][QUERY]: START TRANSACTION
[2024-03-25T22:59:22.836Z][QUERY]: SELECT * FROM current_schema()
[2024-03-25T22:59:22.837Z][QUERY]: SELECT * FROM current_database()
[2024-03-25T22:59:22.838Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-25T22:59:22.864Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-25T22:59:22.873Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-25T22:59:22.874Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-25T22:59:22.874Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-25T22:59:22.874Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-25T22:59:22.917Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-25T22:59:22.920Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-25T22:59:22.922Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-25T22:59:22.934Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-25T22:59:22.942Z][QUERY]: COMMIT
[2024-03-25T22:59:33.811Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar"."name" AS "Bar_name", "Bar"."description" AS "Bar_description", "Bar"."logo_url" AS "Bar_logo_url", "Bar"."franchise_id" AS "Bar_franchise_id" FROM "bars" "Bar"
[2024-03-25T22:59:33.820Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar__Bar_outletList"."id" AS "Bar__Bar_outletList_id", "Bar__Bar_outletList"."picture_url" AS "Bar__Bar_outletList_picture_url", "Bar__Bar_outletList"."phone_number" AS "Bar__Bar_outletList_phone_number", "Bar__Bar_outletList"."address_id" AS "Bar__Bar_outletList_address_id", "Bar__Bar_outletList"."bar_id" AS "Bar__Bar_outletList_bar_id", "Bar__Bar_outletList__Bar__Bar_outletList_address"."id" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_id", "Bar__Bar_outletList__Bar__Bar_outletList_address"."street" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_street", ST_AsGeoJSON("Bar__Bar_outletList__Bar__Bar_outletList_address"."location")::json AS "Bar__Bar_outletList__Bar__Bar_outletList_address_location", "Bar__Bar_outletList__Bar__Bar_outletList_address"."city" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_city", "Bar__Bar_outletList__Bar__Bar_outletList_address"."state_iso_alpha_code2" AS "9c8a2a271babc471772aad18ea54d85200ce8d38" FROM "bars" "Bar" LEFT JOIN "bar_outlets" "Bar__Bar_outletList" ON "Bar__Bar_outletList"."bar_id"="Bar"."id"  LEFT JOIN "addresses" "Bar__Bar_outletList__Bar__Bar_outletList_address" ON "Bar__Bar_outletList__Bar__Bar_outletList_address"."id"="Bar__Bar_outletList"."address_id" WHERE (("Bar"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9))) -- PARAMETERS: [1,3,4,5,6,7,8,9,10]
[2024-03-25T23:00:23.855Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar"."name" AS "Bar_name", "Bar"."description" AS "Bar_description", "Bar"."logo_url" AS "Bar_logo_url", "Bar"."franchise_id" AS "Bar_franchise_id" FROM "bars" "Bar"
[2024-03-25T23:00:23.860Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar__Bar_outletList"."id" AS "Bar__Bar_outletList_id", "Bar__Bar_outletList"."picture_url" AS "Bar__Bar_outletList_picture_url", "Bar__Bar_outletList"."phone_number" AS "Bar__Bar_outletList_phone_number", "Bar__Bar_outletList"."address_id" AS "Bar__Bar_outletList_address_id", "Bar__Bar_outletList"."bar_id" AS "Bar__Bar_outletList_bar_id", "Bar__Bar_outletList__Bar__Bar_outletList_address"."id" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_id", "Bar__Bar_outletList__Bar__Bar_outletList_address"."street" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_street", ST_AsGeoJSON("Bar__Bar_outletList__Bar__Bar_outletList_address"."location")::json AS "Bar__Bar_outletList__Bar__Bar_outletList_address_location", "Bar__Bar_outletList__Bar__Bar_outletList_address"."city" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_city", "Bar__Bar_outletList__Bar__Bar_outletList_address"."state_iso_alpha_code2" AS "9c8a2a271babc471772aad18ea54d85200ce8d38" FROM "bars" "Bar" LEFT JOIN "bar_outlets" "Bar__Bar_outletList" ON "Bar__Bar_outletList"."bar_id"="Bar"."id"  LEFT JOIN "addresses" "Bar__Bar_outletList__Bar__Bar_outletList_address" ON "Bar__Bar_outletList__Bar__Bar_outletList_address"."id"="Bar__Bar_outletList"."address_id" WHERE (("Bar"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9))) -- PARAMETERS: [1,3,4,5,6,7,8,9,10]
[2024-03-25T23:00:44.240Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar"."name" AS "Bar_name", "Bar"."description" AS "Bar_description", "Bar"."logo_url" AS "Bar_logo_url", "Bar"."franchise_id" AS "Bar_franchise_id" FROM "bars" "Bar"
[2024-03-25T23:00:44.244Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar__Bar_outletList"."id" AS "Bar__Bar_outletList_id", "Bar__Bar_outletList"."picture_url" AS "Bar__Bar_outletList_picture_url", "Bar__Bar_outletList"."phone_number" AS "Bar__Bar_outletList_phone_number", "Bar__Bar_outletList"."address_id" AS "Bar__Bar_outletList_address_id", "Bar__Bar_outletList"."bar_id" AS "Bar__Bar_outletList_bar_id", "Bar__Bar_outletList__Bar__Bar_outletList_address"."id" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_id", "Bar__Bar_outletList__Bar__Bar_outletList_address"."street" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_street", ST_AsGeoJSON("Bar__Bar_outletList__Bar__Bar_outletList_address"."location")::json AS "Bar__Bar_outletList__Bar__Bar_outletList_address_location", "Bar__Bar_outletList__Bar__Bar_outletList_address"."city" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_city", "Bar__Bar_outletList__Bar__Bar_outletList_address"."state_iso_alpha_code2" AS "9c8a2a271babc471772aad18ea54d85200ce8d38" FROM "bars" "Bar" LEFT JOIN "bar_outlets" "Bar__Bar_outletList" ON "Bar__Bar_outletList"."bar_id"="Bar"."id"  LEFT JOIN "addresses" "Bar__Bar_outletList__Bar__Bar_outletList_address" ON "Bar__Bar_outletList__Bar__Bar_outletList_address"."id"="Bar__Bar_outletList"."address_id" WHERE (("Bar"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9))) -- PARAMETERS: [1,3,4,5,6,7,8,9,10]
[2024-03-25T23:00:46.666Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar"."name" AS "Bar_name", "Bar"."description" AS "Bar_description", "Bar"."logo_url" AS "Bar_logo_url", "Bar"."franchise_id" AS "Bar_franchise_id" FROM "bars" "Bar"
[2024-03-25T23:00:46.668Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar__Bar_outletList"."id" AS "Bar__Bar_outletList_id", "Bar__Bar_outletList"."picture_url" AS "Bar__Bar_outletList_picture_url", "Bar__Bar_outletList"."phone_number" AS "Bar__Bar_outletList_phone_number", "Bar__Bar_outletList"."address_id" AS "Bar__Bar_outletList_address_id", "Bar__Bar_outletList"."bar_id" AS "Bar__Bar_outletList_bar_id", "Bar__Bar_outletList__Bar__Bar_outletList_address"."id" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_id", "Bar__Bar_outletList__Bar__Bar_outletList_address"."street" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_street", ST_AsGeoJSON("Bar__Bar_outletList__Bar__Bar_outletList_address"."location")::json AS "Bar__Bar_outletList__Bar__Bar_outletList_address_location", "Bar__Bar_outletList__Bar__Bar_outletList_address"."city" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_city", "Bar__Bar_outletList__Bar__Bar_outletList_address"."state_iso_alpha_code2" AS "9c8a2a271babc471772aad18ea54d85200ce8d38" FROM "bars" "Bar" LEFT JOIN "bar_outlets" "Bar__Bar_outletList" ON "Bar__Bar_outletList"."bar_id"="Bar"."id"  LEFT JOIN "addresses" "Bar__Bar_outletList__Bar__Bar_outletList_address" ON "Bar__Bar_outletList__Bar__Bar_outletList_address"."id"="Bar__Bar_outletList"."address_id" WHERE (("Bar"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9))) -- PARAMETERS: [1,3,4,5,6,7,8,9,10]
[2024-03-25T23:00:53.056Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar"."name" AS "Bar_name", "Bar"."description" AS "Bar_description", "Bar"."logo_url" AS "Bar_logo_url", "Bar"."franchise_id" AS "Bar_franchise_id" FROM "bars" "Bar"
[2024-03-25T23:00:53.058Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar__Bar_outletList"."id" AS "Bar__Bar_outletList_id", "Bar__Bar_outletList"."picture_url" AS "Bar__Bar_outletList_picture_url", "Bar__Bar_outletList"."phone_number" AS "Bar__Bar_outletList_phone_number", "Bar__Bar_outletList"."address_id" AS "Bar__Bar_outletList_address_id", "Bar__Bar_outletList"."bar_id" AS "Bar__Bar_outletList_bar_id", "Bar__Bar_outletList__Bar__Bar_outletList_address"."id" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_id", "Bar__Bar_outletList__Bar__Bar_outletList_address"."street" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_street", ST_AsGeoJSON("Bar__Bar_outletList__Bar__Bar_outletList_address"."location")::json AS "Bar__Bar_outletList__Bar__Bar_outletList_address_location", "Bar__Bar_outletList__Bar__Bar_outletList_address"."city" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_city", "Bar__Bar_outletList__Bar__Bar_outletList_address"."state_iso_alpha_code2" AS "9c8a2a271babc471772aad18ea54d85200ce8d38" FROM "bars" "Bar" LEFT JOIN "bar_outlets" "Bar__Bar_outletList" ON "Bar__Bar_outletList"."bar_id"="Bar"."id"  LEFT JOIN "addresses" "Bar__Bar_outletList__Bar__Bar_outletList_address" ON "Bar__Bar_outletList__Bar__Bar_outletList_address"."id"="Bar__Bar_outletList"."address_id" WHERE (("Bar"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9))) -- PARAMETERS: [1,3,4,5,6,7,8,9,10]
[2024-03-25T23:25:37.724Z][QUERY]: SELECT * FROM current_schema()
[2024-03-25T23:25:40.761Z][QUERY]: SELECT * FROM current_schema()
[2024-03-25T23:25:43.777Z][QUERY]: SELECT * FROM current_schema()
[2024-03-25T23:25:46.790Z][QUERY]: SELECT * FROM current_schema()
[2024-03-25T23:25:49.801Z][QUERY]: SELECT * FROM current_schema()
[2024-03-25T23:25:52.814Z][QUERY]: SELECT * FROM current_schema()
[2024-03-25T23:25:55.825Z][QUERY]: SELECT * FROM current_schema()
[2024-03-25T23:25:58.839Z][QUERY]: SELECT * FROM current_schema()
[2024-03-25T23:26:01.850Z][QUERY]: SELECT * FROM current_schema()
[2024-03-25T23:27:21.974Z][QUERY]: SELECT * FROM current_schema()
[2024-03-25T23:27:25.007Z][QUERY]: SELECT * FROM current_schema()
[2024-03-25T23:27:28.020Z][QUERY]: SELECT * FROM current_schema()
[2024-03-25T23:27:31.031Z][QUERY]: SELECT * FROM current_schema()
[2024-03-25T23:27:34.043Z][QUERY]: SELECT * FROM current_schema()
[2024-03-25T23:27:37.056Z][QUERY]: SELECT * FROM current_schema()
[2024-03-25T23:27:40.070Z][QUERY]: SELECT * FROM current_schema()
[2024-03-25T23:27:43.082Z][QUERY]: SELECT * FROM current_schema()
[2024-03-25T23:27:46.094Z][QUERY]: SELECT * FROM current_schema()
[2024-03-25T23:28:23.602Z][QUERY]: SELECT * FROM current_schema()
[2024-03-25T23:28:23.614Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-25T23:28:23.615Z][QUERY]: SELECT version();
[2024-03-25T23:28:23.616Z][QUERY]: START TRANSACTION
[2024-03-25T23:28:23.618Z][QUERY]: SELECT * FROM current_schema()
[2024-03-25T23:28:23.618Z][QUERY]: SELECT * FROM current_database()
[2024-03-25T23:28:23.619Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-25T23:28:23.625Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-25T23:28:23.633Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-25T23:28:23.633Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-25T23:28:23.633Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-25T23:28:23.634Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-25T23:28:23.666Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-25T23:28:23.669Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-25T23:28:23.670Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-25T23:28:23.681Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-25T23:28:23.685Z][QUERY]: COMMIT
[2024-03-25T23:28:40.503Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar"."name" AS "Bar_name", "Bar"."description" AS "Bar_description", "Bar"."logo_url" AS "Bar_logo_url", "Bar"."franchise_id" AS "Bar_franchise_id" FROM "bars" "Bar"
[2024-03-25T23:28:40.519Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar__Bar_outletList"."id" AS "Bar__Bar_outletList_id", "Bar__Bar_outletList"."picture_url" AS "Bar__Bar_outletList_picture_url", "Bar__Bar_outletList"."phone_number" AS "Bar__Bar_outletList_phone_number", "Bar__Bar_outletList"."address_id" AS "Bar__Bar_outletList_address_id", "Bar__Bar_outletList"."bar_id" AS "Bar__Bar_outletList_bar_id", "Bar__Bar_outletList__Bar__Bar_outletList_address"."id" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_id", "Bar__Bar_outletList__Bar__Bar_outletList_address"."street" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_street", ST_AsGeoJSON("Bar__Bar_outletList__Bar__Bar_outletList_address"."location")::json AS "Bar__Bar_outletList__Bar__Bar_outletList_address_location", "Bar__Bar_outletList__Bar__Bar_outletList_address"."city" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_city", "Bar__Bar_outletList__Bar__Bar_outletList_address"."state_iso_alpha_code2" AS "9c8a2a271babc471772aad18ea54d85200ce8d38" FROM "bars" "Bar" LEFT JOIN "bar_outlets" "Bar__Bar_outletList" ON "Bar__Bar_outletList"."bar_id"="Bar"."id"  LEFT JOIN "addresses" "Bar__Bar_outletList__Bar__Bar_outletList_address" ON "Bar__Bar_outletList__Bar__Bar_outletList_address"."id"="Bar__Bar_outletList"."address_id" WHERE (("Bar"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9))) -- PARAMETERS: [1,3,4,5,6,7,8,9,10]
[2024-03-25T23:29:00.952Z][QUERY]: SELECT * FROM current_schema()
[2024-03-25T23:29:00.964Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-25T23:29:00.966Z][QUERY]: SELECT version();
[2024-03-25T23:29:00.967Z][QUERY]: START TRANSACTION
[2024-03-25T23:29:00.969Z][QUERY]: SELECT * FROM current_schema()
[2024-03-25T23:29:00.969Z][QUERY]: SELECT * FROM current_database()
[2024-03-25T23:29:00.970Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-25T23:29:00.976Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-25T23:29:00.983Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-25T23:29:00.984Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-25T23:29:00.984Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-25T23:29:00.984Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-25T23:29:01.013Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-25T23:29:01.015Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-25T23:29:01.016Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-25T23:29:01.027Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-25T23:29:01.032Z][QUERY]: COMMIT
[2024-03-25T23:29:03.007Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar"."name" AS "Bar_name", "Bar"."description" AS "Bar_description", "Bar"."logo_url" AS "Bar_logo_url", "Bar"."franchise_id" AS "Bar_franchise_id" FROM "bars" "Bar"
[2024-03-25T23:29:03.025Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar__Bar_outletList"."id" AS "Bar__Bar_outletList_id", "Bar__Bar_outletList"."picture_url" AS "Bar__Bar_outletList_picture_url", "Bar__Bar_outletList"."phone_number" AS "Bar__Bar_outletList_phone_number", "Bar__Bar_outletList"."address_id" AS "Bar__Bar_outletList_address_id", "Bar__Bar_outletList"."bar_id" AS "Bar__Bar_outletList_bar_id", "Bar__Bar_outletList__Bar__Bar_outletList_address"."id" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_id", "Bar__Bar_outletList__Bar__Bar_outletList_address"."street" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_street", ST_AsGeoJSON("Bar__Bar_outletList__Bar__Bar_outletList_address"."location")::json AS "Bar__Bar_outletList__Bar__Bar_outletList_address_location", "Bar__Bar_outletList__Bar__Bar_outletList_address"."city" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_city", "Bar__Bar_outletList__Bar__Bar_outletList_address"."state_iso_alpha_code2" AS "9c8a2a271babc471772aad18ea54d85200ce8d38", "2856414242f1d91a26035ab8c1ac0d17925d1823"."iso_alpha_code2" AS "2856414242f1d91a26035ab8c1ac0d17925d1823_iso_alpha_code2", "2856414242f1d91a26035ab8c1ac0d17925d1823"."name" AS "2856414242f1d91a26035ab8c1ac0d17925d1823_name" FROM "bars" "Bar" LEFT JOIN "bar_outlets" "Bar__Bar_outletList" ON "Bar__Bar_outletList"."bar_id"="Bar"."id"  LEFT JOIN "addresses" "Bar__Bar_outletList__Bar__Bar_outletList_address" ON "Bar__Bar_outletList__Bar__Bar_outletList_address"."id"="Bar__Bar_outletList"."address_id"  LEFT JOIN "states" "2856414242f1d91a26035ab8c1ac0d17925d1823" ON "2856414242f1d91a26035ab8c1ac0d17925d1823"."iso_alpha_code2"="Bar__Bar_outletList__Bar__Bar_outletList_address"."state_iso_alpha_code2" WHERE (("Bar"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9))) -- PARAMETERS: [1,3,4,5,6,7,8,9,10]
[2024-03-25T23:29:48.664Z][QUERY]: SELECT * FROM current_schema()
[2024-03-25T23:29:48.684Z][QUERY]: CREATE EXTENSION IF NOT EXISTS "postgis"
[2024-03-25T23:29:48.685Z][QUERY]: SELECT version();
[2024-03-25T23:29:48.686Z][QUERY]: START TRANSACTION
[2024-03-25T23:29:48.688Z][QUERY]: SELECT * FROM current_schema()
[2024-03-25T23:29:48.690Z][QUERY]: SELECT * FROM current_database()
[2024-03-25T23:29:48.691Z][QUERY]: SELECT "table_schema", "table_name", obj_description(('"' || "table_schema" || '"."' || "table_name" || '"')::regclass, 'pg_class') AS table_comment FROM "information_schema"."tables" WHERE ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types')
[2024-03-25T23:29:48.698Z][QUERY]: SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'
[2024-03-25T23:29:48.706Z][QUERY]: SELECT columns.*, pg_catalog.col_description(('"' || table_catalog || '"."' || table_schema || '"."' || table_name || '"')::regclass::oid, ordinal_position) AS description, ('"' || "udt_schema" || '"."' || "udt_name" || '"')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE ("table_schema" = 'public' AND "table_name" = 'bars_type_list_bar_types') OR ("table_schema" = 'public' AND "table_name" = 'addresses') OR ("table_schema" = 'public' AND "table_name" = 'bar_outlets') OR ("table_schema" = 'public' AND "table_name" = 'bars') OR ("table_schema" = 'public' AND "table_name" = 'states') OR ("table_schema" = 'public' AND "table_name" = 'franchises') OR ("table_schema" = 'public' AND "table_name" = 'bar_type_categories') OR ("table_schema" = 'public' AND "table_name" = 'bar_types')
[2024-03-25T23:29:48.707Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-25T23:29:48.707Z][QUERY]: SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name", "am"."amname" AS "index_type" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" INNER JOIN "pg_am" "am" ON "i"."relam" = "am"."oid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (("ns"."nspname" = 'public' AND "t"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "t"."relname" = 'bar_types'))
[2024-03-25T23:29:48.707Z][QUERY]: SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (("ns"."nspname" = 'public' AND "cl"."relname" = 'bars_type_list_bar_types') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'addresses') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_outlets') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bars') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'states') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'franchises') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_type_categories') OR ("ns"."nspname" = 'public' AND "cl"."relname" = 'bar_types')) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid"  AND "cl"."relispartition" = 'f'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"
[2024-03-25T23:29:48.748Z][QUERY]: SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = 'public' AND "table_name" = 'addresses' AND "column_name"='location'
[2024-03-25T23:29:48.753Z][QUERY]: SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = 'public' AND "t"."typname" = 'geometry'
[2024-03-25T23:29:48.757Z][QUERY]: SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_geometry_column" "column_name", "srid", "type" FROM "geometry_columns") AS _ WHERE "column_name" = 'location' AND "table_schema" = 'public' AND "table_name" = 'addresses'
[2024-03-25T23:29:48.778Z][QUERY]: SELECT * FROM "information_schema"."tables" WHERE "table_schema" = 'public' AND "table_name" = 'typeorm_metadata'
[2024-03-25T23:29:48.788Z][QUERY]: COMMIT
[2024-03-25T23:33:44.236Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar"."name" AS "Bar_name", "Bar"."description" AS "Bar_description", "Bar"."logo_url" AS "Bar_logo_url", "Bar"."franchise_id" AS "Bar_franchise_id" FROM "bars" "Bar"
[2024-03-25T23:33:44.248Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar__Bar_outletList"."id" AS "Bar__Bar_outletList_id", "Bar__Bar_outletList"."picture_url" AS "Bar__Bar_outletList_picture_url", "Bar__Bar_outletList"."phone_number" AS "Bar__Bar_outletList_phone_number", "Bar__Bar_outletList"."address_id" AS "Bar__Bar_outletList_address_id", "Bar__Bar_outletList"."bar_id" AS "Bar__Bar_outletList_bar_id", "Bar__Bar_outletList__Bar__Bar_outletList_address"."id" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_id", "Bar__Bar_outletList__Bar__Bar_outletList_address"."street" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_street", ST_AsGeoJSON("Bar__Bar_outletList__Bar__Bar_outletList_address"."location")::json AS "Bar__Bar_outletList__Bar__Bar_outletList_address_location", "Bar__Bar_outletList__Bar__Bar_outletList_address"."city" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_city", "Bar__Bar_outletList__Bar__Bar_outletList_address"."state_iso_alpha_code2" AS "9c8a2a271babc471772aad18ea54d85200ce8d38", "2856414242f1d91a26035ab8c1ac0d17925d1823"."iso_alpha_code2" AS "2856414242f1d91a26035ab8c1ac0d17925d1823_iso_alpha_code2", "2856414242f1d91a26035ab8c1ac0d17925d1823"."name" AS "2856414242f1d91a26035ab8c1ac0d17925d1823_name" FROM "bars" "Bar" LEFT JOIN "bar_outlets" "Bar__Bar_outletList" ON "Bar__Bar_outletList"."bar_id"="Bar"."id"  LEFT JOIN "addresses" "Bar__Bar_outletList__Bar__Bar_outletList_address" ON "Bar__Bar_outletList__Bar__Bar_outletList_address"."id"="Bar__Bar_outletList"."address_id"  LEFT JOIN "states" "2856414242f1d91a26035ab8c1ac0d17925d1823" ON "2856414242f1d91a26035ab8c1ac0d17925d1823"."iso_alpha_code2"="Bar__Bar_outletList__Bar__Bar_outletList_address"."state_iso_alpha_code2" WHERE (("Bar"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9))) -- PARAMETERS: [1,3,4,5,6,7,8,9,10]
[2024-03-25T23:33:57.618Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar"."name" AS "Bar_name", "Bar"."description" AS "Bar_description", "Bar"."logo_url" AS "Bar_logo_url", "Bar"."franchise_id" AS "Bar_franchise_id" FROM "bars" "Bar"
[2024-03-25T23:33:57.622Z][QUERY]: SELECT "Bar"."id" AS "Bar_id", "Bar__Bar_outletList"."id" AS "Bar__Bar_outletList_id", "Bar__Bar_outletList"."picture_url" AS "Bar__Bar_outletList_picture_url", "Bar__Bar_outletList"."phone_number" AS "Bar__Bar_outletList_phone_number", "Bar__Bar_outletList"."address_id" AS "Bar__Bar_outletList_address_id", "Bar__Bar_outletList"."bar_id" AS "Bar__Bar_outletList_bar_id", "Bar__Bar_outletList__Bar__Bar_outletList_address"."id" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_id", "Bar__Bar_outletList__Bar__Bar_outletList_address"."street" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_street", ST_AsGeoJSON("Bar__Bar_outletList__Bar__Bar_outletList_address"."location")::json AS "Bar__Bar_outletList__Bar__Bar_outletList_address_location", "Bar__Bar_outletList__Bar__Bar_outletList_address"."city" AS "Bar__Bar_outletList__Bar__Bar_outletList_address_city", "Bar__Bar_outletList__Bar__Bar_outletList_address"."state_iso_alpha_code2" AS "9c8a2a271babc471772aad18ea54d85200ce8d38", "2856414242f1d91a26035ab8c1ac0d17925d1823"."iso_alpha_code2" AS "2856414242f1d91a26035ab8c1ac0d17925d1823_iso_alpha_code2", "2856414242f1d91a26035ab8c1ac0d17925d1823"."name" AS "2856414242f1d91a26035ab8c1ac0d17925d1823_name" FROM "bars" "Bar" LEFT JOIN "bar_outlets" "Bar__Bar_outletList" ON "Bar__Bar_outletList"."bar_id"="Bar"."id"  LEFT JOIN "addresses" "Bar__Bar_outletList__Bar__Bar_outletList_address" ON "Bar__Bar_outletList__Bar__Bar_outletList_address"."id"="Bar__Bar_outletList"."address_id"  LEFT JOIN "states" "2856414242f1d91a26035ab8c1ac0d17925d1823" ON "2856414242f1d91a26035ab8c1ac0d17925d1823"."iso_alpha_code2"="Bar__Bar_outletList__Bar__Bar_outletList_address"."state_iso_alpha_code2" WHERE (("Bar"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9))) -- PARAMETERS: [1,3,4,5,6,7,8,9,10]
